<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.2">
<title>Portfile Reference</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body id="_reference" class="book toc2 toc-left">
<div id="header">
<h1>Portfile Reference</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_reference.keywords">1. Global Keywords</a></li>
<li><a href="#_reference.variables">2. Global Variables</a></li>
<li><a href="#_reference.phases">3. Port Phases</a>
<ul class="sectlevel2">
<li><a href="#_reference.phases.introduction">3.1. Introduction</a></li>
<li><a href="#_reference.phases.installation">3.2. Installation Phase Keywords</a></li>
<li><a href="#_reference.phases.fetch">3.3. Fetch Phase Keywords</a></li>
<li><a href="#_reference.phases.checksum">3.4. Checksum Phase Keywords</a></li>
<li><a href="#_reference.phases.extract">3.5. Extract Phase Keywords</a></li>
<li><a href="#_reference.phases.patch">3.6. Patch Phase Keywords</a></li>
<li><a href="#_reference.phases.configure">3.7. Configure Phase Keywords</a></li>
<li><a href="#_reference.phases.build">3.8. Build Phase Keywords</a></li>
<li><a href="#_reference.phases.test">3.9. Test Phase Keywords</a></li>
<li><a href="#_reference.phases.destroot">3.10. Destroot Phase Keywords</a></li>
</ul>
</li>
<li><a href="#_reference.dependencies">4. Dependencies</a>
<ul class="sectlevel2">
<li><a href="#_reference.dependencies.types">4.1. Port and File Dependencies</a></li>
</ul>
</li>
<li><a href="#_reference.variants">5. Variants</a>
<ul class="sectlevel2">
<li><a href="#_reference.variants.user_selected">5.1. User-Selected Variants</a></li>
<li><a href="#_reference.variants.descriptions">5.2. User-Selected Variant Descriptions</a></li>
<li><a href="#_reference.variants.platform">5.3. Platform Variants</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter serves as a reference for the major elements of a Portfile: port phases, dependencies, StartupItems, variables, keywords, and Tcl extensions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference.keywords">1. Global Keywords</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MacPorts keywords are used to specify required or optional items within a Portfile, or to override default options used by MacPorts base for individual ports.
Keywords are to be used within the &#8220;global&#8221; and &#8220;variant&#8221; sections of Portfiles, and not within optional port phase declarations.</p>
</div>
<div class="paragraph">
<p>The global keywords listed below specify information for ports as a whole, whereas the keywords listed under a port phase specify information to be used during a particular installation phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">PortSystem</dt>
<dd>
<p>The first non-comment line of every Portfile; it should be followed by PortGroup inclusions (if any) and then a blank line.
It defines which version of the Portfile interpreter will be used.
(There is currently only one version.)</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>PortSystem          1.0</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">name</dt>
<dd>
<p>The name of the port.
To avoid special interpretation by shells and the like, names should contain only alphanumeric characters, underscores, dashes or dots.
For projects whose proper names contain &#8220;+&#8221; characters, change these to &#8220;x&#8221; (e.g., &#8220;libstdc++&#8221; becomes &#8220;libstdcxx&#8221;).</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>name                foo</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">version</dt>
<dd>
<p>The version of the ported software.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>version             1.23.45</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">revision</dt>
<dd>
<p>Optional keyword (default is 0) that is used to track port revisions.
It should not be incremented for port revisions unless it would benefit users to upgrade an installed port, and cleared when the port is updated to a newer version.</p>
<div class="paragraph">
<p>It should be used if a bug in the Portfile was found and all installations of this port have to be updated.
If the change only affects new installations, there is no need to increase it.</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>revision            1</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">epoch</dt>
<dd>
<p>An optional keyword (default value is 0) that must be used when a port is updated to a version that is numerically less than the previous version, for example 1.10 &#8594; 1.2 or 20070928 &#8594; 1.0.
Some Portfile authors have used large epoch values that look like a date, but there is no reason to do so.
The epoch is simply an unsigned integer, and the only requirement is that it never be decreased.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>epoch               1</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>An epoch is not needed for most ports.
If a port&#8217;s version numbers advance in normal dotted-decimal sequence, there is no reason to add an epoch.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">categories</dt>
<dd>
<p>The category under which the ported software falls.
The first category should be the same as the directory within which the Portfile is stored; secondary and tertiary categories may be selected.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>categories          net security</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">maintainers</dt>
<dd>
<p>A port&#8217;s maintainers are the people who have agreed to take responsibility for keeping the port up-to-date.
Most ports have only a single maintainer, but some ports have two or more co-maintainers.
The <code>maintainers</code> keyword lists the maintainers' GitHub usernames or email addresses.
GitHub usernames start with an <code>@</code> symbol.
Email addresses are preferably listed in the obfuscated form below to hide them from spambots:</p>
<div class="ulist">
<ul>
<li>
<p>For addresses in domain @macports.org, simply omit the domain name.</p>
</li>
<li>
<p>For addresses in other domains, e.g.,</p>
<div class="paragraph">
<p>, use the convention <code>example.org:account</code> to specify the address.</p>
</div>
<div class="paragraph">
<p>In the example below, the port is maintained by a GitHub user named neverpanic, and the owners of the two email addresses</p>
</div>
<div class="literalblock">
<div class="content">
<pre> and
// &lt;email&gt;julesverne@example.org&lt;/email&gt;</pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>maintainers         @neverpanic \
                    jdoe \
                    example.org:julesverne</code></pre>
</div>
</div>
<div class="paragraph">
<p>+
Braces can be used to express that these refer to the same person, for example the GitHub username and an email.
In the following example, the port is maintained by a GitHub user named jverne, that can also be contacted directly at</p>
</div>
<div class="paragraph">
<p>+
.</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>maintainers         {@jverne example.org:julesverne}</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The address <code>nomaintainer</code> designates a port that is not maintained by anybody and may be modified by any committer.
Feel free to claim maintainership of a nomaintainer port if desired.
The address <code>openmaintainer</code> designates a port that has a maintainer who allows minor changes to be committed without his or her prior approval.
Port maintainers who are not committers are encouraged to add <code>openmaintainer</code> to their ports.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">description</dt>
<dd>
<p>A one-sentence description of the ported software.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>description         A classic shooter arcade game.</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">long_description</dt>
<dd>
<p>A long description of the ported software.
Break long lines with escaped newlines.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>long_description    A classic shooter arcade game derived from \
                    the game alien-munchers.  Not suitable for \
                    children under two years old.</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">homepage</dt>
<dd>
<p>Port application&#8217;s homepage.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>homepage            https://www.example.org/apps</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">platforms</dt>
<dd>
<p>A list of the platforms on which the port has been tested.
Required, but not interpreted in any way by the software at this time; it is purely informational for users.
Possible values: <code>darwin</code> (= <code>macosx</code> or <code>puredarwin</code>), <code>macosx</code>, <code>puredarwin</code>, <code>freebsd</code>, <code>linux</code>, <code>sunos</code>, <code>netbsd</code>.
In general, it can just be set to <code>darwin</code>.
(<code>puredarwin</code> is an OS based on Apple&#8217;s open-source Darwin releases without any of Apple&#8217;s proprietary bits.) See also <code class="var">os.platform</code>.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>platforms           darwin</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">supported_archs</dt>
<dd>
<p>The CPU architectures for which this port can be built.
Archs currently supported by macOS are: i386, ppc, ppc64, x86_64.
If this option is not set, it is assumed that the port can build for all archs.
If a port does not install any architecture-specific files, use the special value <code class="option">noarch</code>.</p>
<div class="paragraph">
<p>If the building architecture isn&#8217;t among supported_archs, port fails with an error message, except when building on x86_64 and supported_archs contains i386 or when building on ppc64 and supported_archs contains ppc, in which case the port will be built in 32-bit mode.</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>supported_archs           i386 ppc</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>supported_archs           noarch</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">license</dt>
<dd>
<p>The proper format for license consists of the license name, followed by a hyphen and number if indicating a specific version.
A space should be placed between licenses if there is more than one that applies.
If an element in the license list is itself a list, it is interpreted as offering a choice of any one of the licenses in the sub-list.</p>
<div class="paragraph">
<p>If the version number is a &#8220;.0&#8221; version, the &#8220;.0&#8221; should be omitted to make the version an integer.
If the author gives the choice of using a given license or &#8220;any later version&#8221; of it, append a plus sign (+) to the version number.
If the version specified in this case is also the earliest version, just leave out the version number entirely since it implies all versions.</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>license           GPL-3</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>license           {freetype GPL}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">license_noconflict</dt>
<dd>
<p>By default, it is assumed that ports may use libraries or headers from their dependencies and thus form a derivative work.
A dependency with an incompatible license thus prevents the port from being distributed in binary form.
If a dependency with an incompatible license is not used in such a way that a derivative work is formed, or should not prevent binary distribution for any other reason, add its name to this list.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>license_noconflict openssl</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>license_noconflict readline gdbm</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference.variables">2. Global Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Global variables are variables available to any Portfile.
For a list of additional variables available to ports that are assigned to a MacPorts Portgroup, see portgroup(7).</p>
</div>
<div class="paragraph">
<p>All of these variables except <code class="var">prefix</code> are read-only!</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">prefix</dt>
<dd>
<p>Installation prefix, set at compile time and displayed in <em class="path">${prefix}/etc/macports/macports.conf</em> --- may be overridden on a per-port basis, for example to install into a wholly-contained subdirectory of ${prefix}, but most ports should have no reason to do so.</p>
<div class="paragraph">
<p>Default: <em class="path">/opt/local</em></p>
</div>
</dd>
<dt class="hdlist1">libpath</dt>
<dd>
<p>Path to the MacPorts Tcl libraries.</p>
</dd>
<dt class="hdlist1">portpath</dt>
<dd>
<p>Full path to the Portfile of the port being executed.
Portfile repositories are defined in the file <a href="#_internals.configuration_files.sources_conf">sources.conf</a>.</p>
<div class="paragraph">
<p>Default: <em class="path">${prefix}/var/macports/sources/rsync.macports.org/macports/release/tarballs/ports/&lt;category&gt;/&lt;portname&gt;/</em></p>
</div>
</dd>
<dt class="hdlist1">filesdir</dt>
<dd>
<p>Path to files directory relative to <code class="var">${portpath}</code>.</p>
<div class="paragraph">
<p>Value: <code>files</code></p>
</div>
</dd>
<dt class="hdlist1">filespath</dt>
<dd>
<p>Full path to files directory.</p>
<div class="paragraph">
<p>Value: <code class="var">${portpath}/${filesdir}</code></p>
</div>
</dd>
<dt class="hdlist1">workpath</dt>
<dd>
<p>Full path to work directory.</p>
<div class="paragraph">
<p>Value: <code class="var">${portbuildpath}/work</code></p>
</div>
</dd>
<dt class="hdlist1">worksrcpath</dt>
<dd>
<p>Full path to extracted source code.</p>
<div class="paragraph">
<p>Value: <code class="var">${workpath}/${worksrcdir}</code></p>
</div>
</dd>
<dt class="hdlist1">destroot</dt>
<dd>
<p>Full path into which software will be destrooted.</p>
<div class="paragraph">
<p>Value: <code class="var">${workpath}/destroot</code></p>
</div>
</dd>
<dt class="hdlist1">distpath</dt>
<dd>
<p>Location to store downloaded distfiles.</p>
<div class="paragraph">
<p>Value: <code class="var">${portdbpath}/distfiles/${dist_subdir}/</code></p>
</div>
</dd>
<dt class="hdlist1">install.user</dt>
<dd>
<p>The Unix user at the time of port installation.</p>
</dd>
<dt class="hdlist1">install.group</dt>
<dd>
<p>The Unix group at the time of port installation.</p>
</dd>
<dt class="hdlist1">os.platform</dt>
<dd>
<p>The underlying operating system platform (e.g., &#8220;darwin&#8221; on macOS, &#8220;freebsd&#8221;, etc.).</p>
</dd>
<dt class="hdlist1">os.arch</dt>
<dd>
<p>The hardware architecture&#8201;&#8212;&#8201;either &#8220;powerpc&#8221; or &#8220;i386&#8221;.</p>
</dd>
<dt class="hdlist1">os.version</dt>
<dd>
<p>The version number of the host operating system (e.g., &#8220;12.3.0&#8221; for Darwin 12.3.0 a.k.a.
OS X 10.8.3).</p>
</dd>
<dt class="hdlist1">os.endian</dt>
<dd>
<p>Endianness of the processor&#8201;&#8212;&#8201;either &#8220;big&#8221; (on PowerPC systems) or &#8220;little&#8221; (on Intel systems).</p>
</dd>
<dt class="hdlist1">os.major</dt>
<dd>
<p>The major version number of the host operating system (e.g., &#8220;12&#8221; for Darwin 12.x).
:leveloffset: 0</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference.phases">3. Port Phases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_reference.phases.introduction">3.1. Introduction</h3>
<div class="paragraph">
<p>The MacPorts port installation process has a number of distinct phases that are described in detail in this section.
The default scripts coded into MacPorts base performs the standard <code>configure</code>, <code>make</code>, and <code>make
    install</code> steps.
For applications that do not conform to this standard, installation phases may be declared in a Portfile to <a href="#_development.examples.augment">augment</a> or <a href="#_development.examples.override">override</a> the default behavior as described in the <a href="#_development">Portfile
    Development</a> chapter.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">fetch</dt>
<dd>
<p>Fetch the <code class="var">${distfiles}</code> from <code class="var">${master_sites}</code> and place it in <em class="path">${prefix}/var/macports/distfiles/${name}</em>.</p>
</dd>
<dt class="hdlist1">checksum</dt>
<dd>
<p>Compare <code class="var">${checksums}</code> specified in a <em class="path">Portfile</em> to the checksums of the fetched ${distfiles}.</p>
</dd>
<dt class="hdlist1">extract</dt>
<dd>
<p>Unzip and untar the <code class="var">${distfiles}</code> into the path ${prefix}/var/macports/build/&#8230;&#8203;./work</p>
</dd>
<dt class="hdlist1">patch</dt>
<dd>
<p>Apply optional link:patch files specified in <code class="var">${patchfiles}</code> to modify a port&#8217;s source code file(s).</p>
</dd>
<dt class="hdlist1">configure</dt>
<dd>
<p>Execute <code class="var">${configure.cmd}</code> in <code class="var">${worksrcpath}</code>.</p>
</dd>
<dt class="hdlist1">build</dt>
<dd>
<p>Execute <code class="var">${build.cmd}</code> in <code class="var">${worksrcpath}</code>.</p>
</dd>
<dt class="hdlist1">test</dt>
<dd>
<p>Execute commands to run test suites bundled with a port, available only for a fraction of ports.
This is an optional phase, run only if <code>port test</code> is executed, and always works with a build from source, not a binary.
A failure is only for the user&#8217;s information, and does not block a subsequent installation from the build.</p>
</dd>
<dt class="hdlist1">destroot</dt>
<dd>
<p>Execute the command <code>make install</code><code class="var">DESTDIR=${destroot}</code>in <code class="var">${worksrcpath}</code>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using a link:DESTDIR
            variable is a part of standard GNU coding practices, and this variable must be supported in an application&#8217;s install routines for MacPorts' destroot phase to work without manual Portfile scripting or source patching.
Urge developers to fully support <code class="var">DESTDIR</code> in their applications.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>+
Understanding the destroot phase is critical to understanding MacPorts, because, unlike some package management systems, MacPorts &#8220;stages&#8221; an installation into an intermediate location, not the final file destination.
MacPorts uses the destroot phase to provide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Port uninstalls - a port&#8217;s files may be cleanly uninstalled because all files and directories are recorded during install.</p>
</li>
<li>
<p>Multiple port versions may be installed on the same host, since a port&#8217;s files are not directly inserted into <code class="var">${prefix}</code> but rather hard-linked into <code class="var">${prefix}</code> from an intermediate location during a later activation phase.</p>
<div class="paragraph">
<p>Any empty directories in <code class="var">${destroot}</code> upon completion of the destroot phase are removed unless a directory name is placed in the value field of the optional <code>destroot.keepdirs</code> keyword.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">install</dt>
<dd>
<p>Archive a port&#8217;s destrooted files into <em class="path">${prefix}/var/macports/software</em>.
See <a href="#_internals.images">Port Images</a> in the <a href="#_internals">MacPorts Internals</a> chapter for details.</p>
</dd>
<dt class="hdlist1">activate</dt>
<dd>
<p>Extract the port&#8217;s files from the archive in <em class="path">${prefix}/var/macports/software</em> to their final installed locations, usually inside <code class="var">${prefix}</code>.</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.installation">3.2. Installation Phase Keywords</h3>
<div class="paragraph">
<p>MacPorts keywords are used to specify required or optional items within a Portfile, or to override default options used by MacPorts base for individual ports.
Keywords are to be used within the &#8220;global&#8221; and &#8220;variant&#8221; sections of Portfiles, and not within optional port phase declarations.</p>
</div>
<div class="paragraph">
<p>In other words, port phase keywords are not located within port phase declarations, but rather they <em>refer</em> to port phases and set options for those phases, and they take effect whether or not phase declarations have been explicitly defined in a Portfile.</p>
</div>
<div class="sect3">
<h4 id="_reference.phases.installation.list_modifiers">3.2.1. Keyword List Modifiers (-append, -delete, -replace, -strsed)</h4>
<div class="paragraph">
<p>Keyword list modifiers are keywords that end in -append, -delete or -replace.
Keywords that support list modifiers are identified under appropriate reference sections below.</p>
</div>
<div class="paragraph">
<p>-append adds a value to the keyword, -delete removes a previously added item.
-replace takes two arguments and replaces the first value from the keyword with the second value.
-strsed treats the keyword value as a string and filters it through <a href="#_reference.tcl_extensions.strsed">strsed</a> using the given pattern.
There is also a deprecated syntax for -replace which takes only one argument and behaves the same as -strsed.</p>
</div>
<div class="paragraph">
<p>Keyword list modifiers are most frequently used for these three purposes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preserve configure defaults set by a previously executed Portfile keyword or by MacPorts base</p>
<div class="paragraph">
<p>MacPorts base sets the gcc compiler flags CFLAGS and LDFLAGS for all ports using <code>configure.cflags</code> and <code>configure.ldflags</code>, therefore to keep from overwriting the default compiler flags use <code>configure.cflags-append</code> and <code>configure.ldflags-append</code>.
<strong> <code>configure.cflags-append</code>
</strong> <code>configure.ldflags-append</code></p>
</div>
</li>
<li>
<p>Preserve PortGroup Dependencies</p>
<div class="paragraph">
<p>Ports in a PortGroup have default library dependencies set by MacPorts base.
Therefore, never use <code>depends_lib</code> in ports belonging to a PortGroup or it will overwrite the default library dependencies.
Instead, use <code>depends_lib-append</code>.</p>
</div>
</li>
<li>
<p>Add or Delete Items for Variants</p>
<div class="paragraph">
<p>When a variant requires more or fewer dependencies, distfiles, or patchfiles, when the variant is invoked you want to add or remove items to the appropriate keyword values list set in the global section of the Portfile.
Use the appropriate keywords, for example:
<strong> <code>depends_lib-append</code> or <code>depends_lib-delete<code>`depends_lib-replace</code>
</strong> `distfiles-append</code> or <code>distfiles-delete<code>`distfiles-replace</code>
** `patchfiles-append</code> or `patchfiles-delete<code>`patchfiles-replace</code></p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_reference.phases.installation.argument_modifiers">3.2.2. Keyword Argument Modifiers (.pre_args / .post_args)</h4>
<div class="paragraph">
<p>Keywords that support pre_args and post_args are used to assemble command strings together in a row, as described in the reference sections below.
But it should be noted that all keyword argument modifiers implicitly support keyword list modifiers.
For example, the keyword <code>configure.pre_args</code> also supports <code>configure.pre_args-append</code> and <code>configure.pre_args-delete</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.fetch">3.3. Fetch Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the fetch phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">master_sites</dt>
<dd>
<p>A list of URLs from which a port&#8217;s <code class="var">${distfiles}</code> may be retrieved.</p>
<div class="paragraph">
<p>Keyword values for <code>master_sites</code> may include predefined site lists known as &#8220;mirrors&#8221;, such as sourceforge, gnu, etc.
The file(s) declared in <code class="var">${distfiles}</code> will be fetched from one of the locations defined in <code>master_sites</code>, while trying to find the best reachable mirror for the user&#8217;s connection.</p>
</div>
<div class="paragraph">
<p>For a complete list of mirrors and their list of sites, see the file <em class="path">mirror_sites.tcl</em> located in <em class="path">_resources/port1.0/fetch/</em> in the ports tree.</p>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a <code>master_sites</code> keyword has multiple values, after any mirrors are expanded the list of sites is sorted by ping response times.
The sites are then tried in sorted order until matching <code class="var">${distfiles}</code> are found.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code>none</code> (but the <code>macports_distfiles</code> mirror is always implicitly appended)</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>master_sites        https://www.example.org/files/ \
                    https://mirror.example.org/example_org/files/</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may also use mirror site lists predefined by MacPorts.
Here the sourceforge, gnu, and freebsd mirrors are used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>master_sites        sourceforge gnu freebsd</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using mirror master_sites, the subdirectory <code class="var">${name}</code> is checked on every mirror.
If the mirror subdirectory does not match ${name}, then you may specify it using after the mirror separated by a colon.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>master_sites        sourceforge:widget \
                    gnu:widget</code></pre>
</div>
</div>
<div class="paragraph">
<p>For ports that must fetch multiple download files from different locations, you must label the files with tags and match the tags to a <code>distfiles</code> keyword.
The format is <code>mirror:subdirectory:tag</code>.</p>
</div>
<div class="paragraph">
<p>In the example below, file_one.tar.gz is fetched from sourceforge mirrors in subdirectory <code class="var">${name}</code>; file tagtwo.tar.gz is fetched from the gnu mirrors in subdirectory sources.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>master_sites        sourceforge::tagone \
                    gnu:sources:tagtwo

distfiles           file_one.tar.gz:tagone \
                    file_two.tar.gz:tagtwo</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">master_sites.mirror_subdir</dt>
<dd>
<p>Subdirectory to append to all mirror sites for any list specified in <code class="var">${master_sites}</code>.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Default: <code class="var">${name}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>master_sites.mirror_subdir  magic</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">patch_sites</dt>
<dd>
<p>A list of sites from which a port&#8217;s patchfiles may be downloaded, where applicable.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Default: <code class="var">${master_sites}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patch_sites         ftp://ftp.patchcityrepo.com/pub/magic/patches</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">patch_sites.mirror_subdir</dt>
<dd>
<p>Subdirectory to append to all mirror sites for any list specified in <code class="var">${patch_sites}</code>.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Default: <code class="var">${name}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patch_sites.mirror_subdir   magic</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">distname</dt>
<dd>
<p>The name of the distribution filename, not including the extract suffix (see below).</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Default: <code class="var">${name}-${version}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>distname            ${name}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">distfiles</dt>
<dd>
<p>The full distribution filename, including the extract suffix.
Used to specify non-default distribution filenames; this keyword must be specified (and tags used) when a port has multiple download files (see master_sites).</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Default: <code class="var">${distname}${extract.suffix}</code></p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>distfiles           ${name}-dev_src.tgz</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>distfiles           file_one.tar.gz:tagone \
                    file_two.tar.gz:tagtwo</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">dist_subdir</dt>
<dd>
<p>The last path component of <code class="var">${distpath}</code>.
Override it to store multiple ports' distfiles in the same directory (such as multiple ports providing different versions of the same software), or if a link:stealth
update has occurred.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Default: <code class="var">${name}</code></p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>dist_subdir         gcc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>dist_subdir         ${name}/${version}_1</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">worksrcdir</dt>
<dd>
<p>Sets the path to source directory relative to workpath.
It can be used if the extracted source directory has a different name then the distfile.
Also used if the source to be built is in a subdirectory.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Default: <code class="var">${distname}</code></p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>worksrcdir          ${name}-src-${version}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>worksrcdir          ${distname}/src</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_reference.phases.fetch.advanced">3.3.1. Advanced Fetch Options</h4>
<div class="paragraph">
<p>Some mirrors require special options for a resource to be properly fetched.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">fetch.type</dt>
<dd>
<p>Change the fetch type.
This is only necessary if a <a href="#_reference.phases.fetch.bzr">bzr</a>, <a href="#_reference.phases.fetch.cvs">cvs</a>, <a href="#_reference.phases.fetch.git">git</a>, <a href="#_reference.phases.fetch.hg">hg</a>, or <a href="#_reference.phases.fetch.svn">svn</a> checkout is being used. <code class="option">standard</code> is used for a normal http or ftp fetch using <code class="var">${distfiles}</code> and is used as default.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">standard</code></p>
</li>
<li>
<p>Values: <code class="option">standard</code><code class="option">bzr</code><code class="option">cvs</code><code class="option">git</code><code class="option">hg</code><code class="option">svn</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fetch.type          svn
svn.url             svn://example.org
svn.revision        2100</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">fetch.user</dt>
<dd>
<p>HTTP or FTP user to fetch the resource.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">fetch.password</dt>
<dd>
<p>HTTP or FTP password to fetch the resource.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">fetch.use_epsv</dt>
<dd>
<p>Whether to use EPSV command for FTP transfers.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">yes</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fetch.use_epsv      no</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">fetch.ignore_sslcert</dt>
<dd>
<p>Whether to ignore the host SSL certificate (for HTTPS).</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fetch.ignore_sslcert    yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_reference.phases.fetch.bzr">3.3.2. Fetch from BZR</h4>
<div class="paragraph">
<p>link:Bzr may be used as an alternative method of fetching distribution files using the keywords in this section.
However, fetching via bzr may cause non-reproducible builds, so it is strongly discouraged.</p>
</div>
<div class="paragraph">
<p>The <code class="option">bzr</code><a href="#_reference.phases.fetch.advanced.fetch_type">fetch.type</a> is used to fetch source code from a bzr repository.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">bzr.url</dt>
<dd>
<p>This specifies the url from which to fetch files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>bzr.url             lp:inkscape</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>bzr.url             lp:~callelejdfors/pycg/trunk</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">bzr.revision</dt>
<dd>
<p>Optional tag for fetching with bzr, this specifies the revision to checkout</p>
<div class="ulist">
<ul>
<li>
<p>Default: -1 (the last committed revision)</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>bzr.revision          2209</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_reference.phases.fetch.cvs">3.3.3. Fetch from CVS</h4>
<div class="paragraph">
<p>link:CVS may be used as an alternative method of fetching distribution files using the keywords in this section.
However, fetching via CVS may cause non-reproducible builds, so it is strongly discouraged.</p>
</div>
<div class="paragraph">
<p>The <code class="option">cvs</code><a href="#_reference.phases.fetch.advanced.fetch_type">fetch.type</a> is used to fetch source code from a CVS repository.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">cvs.root</dt>
<dd>
<p>Specify the url from which to fetch files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cvs.root            :pserver:anonymous@cvs.sv.gnu.org:/sources/emacs</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">cvs.password</dt>
<dd>
<p>Password to login to the CVS server.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cvs.password        nice-password</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">cvs.tag</dt>
<dd>
<p>Optional for fetching with CVS, this specifies the code revision to checkout.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cvs.tag             HEAD</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">cvs.date</dt>
<dd>
<p>A date that identifies the CVS code set to checkout.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cvs.date            "12-April-2007"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">cvs.module</dt>
<dd>
<p>A CVS module from which to check out the code.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>cvs.module          Sources</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_reference.phases.fetch.git">3.3.4. Fetch from Git</h4>
<div class="paragraph">
<p>link:Git may be used as an alternative method of fetching distribution files using the keywords in this section.
However, fetching via Git may cause non-reproducible builds, so it is strongly discouraged.</p>
</div>
<div class="paragraph">
<p>The <code class="option">git</code><a href="#_reference.phases.fetch.advanced.fetch_type">fetch.type</a> is used to fetch source code from a git repository.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">git.url</dt>
<dd>
<p>This specifies the url from which to fetch files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>git.url             git://git.kernel.org/pub/scm/git/git.git</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>git.url             https://www.kernel.org/pub/scm/git/git.git</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">git.branch</dt>
<dd>
<p>Optional tag for fetching with git, this specifies the tag or other commit-ish that git should checkout.
Note that any tag on a branch besides HEAD should be prefixed by origin/.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>git.branch             72bf1c8</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>git.branch             origin/next</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_reference.phases.fetch.hg">3.3.5. Fetch from Mercurial</h4>
<div class="paragraph">
<p>link:Mercurial may be used as an alternative method of fetching distribution files using the keywords in this section.
However, fetching via Mercurial may cause non-reproducible builds, so it is strongly discouraged.</p>
</div>
<div class="paragraph">
<p>The <code class="option">hg</code><a href="#_reference.phases.fetch.advanced.fetch_type">fetch.type</a> is used to fetch source code from a Mercurial repository.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">hg.url</dt>
<dd>
<p>This specifies the url from which to fetch files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>hg.url              https://www.kernel.org/hg/index.cgi/linux-2.6/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>hg.url              http://hg.intevation.org/mercurial</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">hg.tag</dt>
<dd>
<p>Optional tag which should be fetched.
Can be a Mercurial tag or a revision.
To prevent non-reproducible builds use of tip as revision is discouraged.</p>
<div class="ulist">
<ul>
<li>
<p>Default: tip</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>hg.tag              v1.3</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>hg.tag              ceb884843737</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_reference.phases.fetch.svn">3.3.6. Fetch from Subversion</h4>
<div class="paragraph">
<p>link:Subversion may be used as an alternative method of fetching distribution files using the keywords in this section.
However, fetching via Subversion may cause non-reproducible builds, so it is strongly discouraged.</p>
</div>
<div class="paragraph">
<p>The <code class="option">svn</code><a href="#_reference.phases.fetch.advanced.fetch_type">fetch.type</a> is used to fetch source code from an svn repository.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">svn.url</dt>
<dd>
<p>This specifies the url from which to fetch files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>svn.url             https://www.example.com/svn-repo/mydirectory</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>svn.url             svn://svn.example.com/svn-repo/mydirectory</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">svn.revision</dt>
<dd>
<p>Optional tag for fetching with Subversion, this specifies the peg revision to checkout; it corresponds to the @REV syntax of the svn cli.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>svn.revision        37192</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">svn.method</dt>
<dd>
<p>Optional tag for fetching with Subversion, this specifies whether to check out the code into a working copy, or just export it without the working copy metadata.
An export is preferable because it takes half the disk space, but some software expects to be built in a working copy (for example because it wants to record the revision number into itself somewhere).</p>
<div class="ulist">
<ul>
<li>
<p>Default: export</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>svn.method          checkout</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.checksum">3.4. Checksum Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the checksum phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">checksums</dt>
<dd>
<p>Checksum(s) of the distribution files.
For ports with multiple distribution files, filenames must be included to associate files with their checksums.</p>
<div class="paragraph">
<p>At least two checksum types (typically rmd160 and sha256) should be used to ensure the integrity of the distfiles.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>checksums           rmd160  0c1147242adf476f5e93f4d59b553ee3ea378b23 \
                    sha256  baf8a29ff721178317aac7b864c2d392b1accc02de8677dd24c18fd5717bf26e</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>checksums           ${distname}${extract.suffix} \
                        rmd160  0c1147242adf476f5e93f4d59b553ee3ea378b23 \
                        sha256  883715307c31ae2c145db15d2404d89a837f4d03d7e6932aed21d1d1f21dad89 \
                    hobbit.tar.gz \
                        rmd160  82b9991f3bf0ceedbf74c188c5fa44b98b5e40c9 \
                        sha256  2c3afd16915e9f8eac2351673f8b599f5fd2ff9064d4dfe61f750d72bab740b3</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.extract">3.5. Extract Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the extract phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">extract.asroot</dt>
<dd>
<p>This keyword is used to specify that the extract phase should be done as the root user.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.asroot      no</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">extract.suffix</dt>
<dd>
<p>This keyword is used to specify the extract suffix type.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <em class="path">.tar.gz</em></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.suffix      .tgz</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_7z</dt>
<dd>
<p>This keyword is for downloads that are compressed using the 7z algorithm.
When invoked, it automatically sets:</p>
<div class="literalblock">
<div class="content">
<pre>extract.suffix = .7z
extract.cmd    = 7za</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_7z           yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_bzip2</dt>
<dd>
<p>This keyword is for downloads that are tarred and bzipped.
When invoked, it automatically sets:</p>
<div class="literalblock">
<div class="content">
<pre>extract.suffix = .tar.bz2
extract.cmd    = bzip</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_bzip2           yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_lzma</dt>
<dd>
<p>This keyword is for downloads that are compressed using the lzma algorithm.
When invoked, it automatically sets:</p>
<div class="literalblock">
<div class="content">
<pre>extract.suffix    = .lzma
extract.cmd       = lzma</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_lzma             yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_zip</dt>
<dd>
<p>This keyword is for downloads that are zipped.
When invoked, it automatically sets:</p>
<div class="literalblock">
<div class="content">
<pre>extract.suffix    = .zip
extract.cmd       = unzip
extract.pre_args  = -q
extract.post_args = "-d ${extract.dir}"</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_zip             yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_xz</dt>
<dd>
<p>This keyword is for downloads that are compressed using the xz tool.
When invoked, it automatically sets:</p>
<div class="literalblock">
<div class="content">
<pre>extract.suffix    = .tar.xz
extract.cmd       = xz</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_xz             yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">extract.mkdir</dt>
<dd>
<p>This keyword is used to specify if the directory <em class="path">worksrcdir</em> is part of the distfile or if it should be created automatically and the distfiles should be extracted there instead.
This is useful for distfiles with a flat structure which would pollute the <em class="path">worksrcdir</em> with lots of files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.mkdir       yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">extract.only</dt>
<dd>
<p>List of files to extract into <code class="var">${worksrcpath}</code>.
Only use if default extract behavior is not correct for your port.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${distfiles}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.only        foo.tar.gz</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.only-append     bar.tar.gz
extract.only-delete     foo.tar.gz</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">extract.cmd</dt>
<dd>
<p>Command to perform extraction.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>gzip</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.cmd         gunzip</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">extract.args</dt>
<dd>
<p>Main arguments to <code class="var">extract.cmd</code>; additional arguments passed before and after the main arguments.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${distpath}/${distfile}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.args        ${distpath}/${distfile}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following argument modifiers are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>extract.pre_args</code>, defaults to: <code>-dc</code></p>
</li>
<li>
<p><code>extract.post_args</code>, defaults to: <code>"| tar -xf -"</code></p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>extract.pre_args    xf
extract.post_args   "| gnutar -x"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.patch">3.6. Patch Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the patch phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">patch.dir</dt>
<dd>
<p>Specify the base path for patch files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${worksrcpath}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patch.dir           ${worksrcpath}/util</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">patch.cmd</dt>
<dd>
<p>Specify the command to be used for patching files.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>patch</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patch.cmd           cat</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">patchfiles</dt>
<dd>
<p>Specify patch files to be applied for a port; list modifiers specify patchfiles to be added or removed from a previous patchfile declaration.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patchfiles          patch-destdir-variable-fix.diff \
                    patch-source.c.diff</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patchfiles-append   patch-configure.diff
patchfiles-delete   patch-destdir-variable-fix.diff</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">patch.args</dt>
<dd>
<p>Main arguments to <code class="var">patch.cmd</code>; optional argument modifiers pass arguments before and after the main arguments.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patch.args          ???</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following argument modifiers are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>patch.pre_args</code>, defaults to: <code>-p0</code></p>
</li>
<li>
<p><code>patch.post_args</code>, defaults to: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>patch.pre_args      -p1
patch.post_args     ???</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.configure">3.7. Configure Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the configure phase.</p>
</div>
<div class="paragraph">
<p>MacPorts base sets some important default configure options, so should use the -append version of most configure keywords so you don&#8217;t overwrite them.
For example, MacPorts base sets default <code>configure.cflags</code> so you should always use <code>configure.cflags-append</code> to set additional CFLAGS in Portfiles.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">use_configure</dt>
<dd>
<p>Sets if the configure phase should be run.
Can be used if the port has no <em class="path">./configure</em> script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">yes</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_configure    no</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.cmd</dt>
<dd>
<p>Selects the command to be run in the default configure phase.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>./configure</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cmd       ./config.sh</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.env</dt>
<dd>
<p>Set environment variables for configure; list modifiers add and delete items from a previous Portfile configure.env keyword, or a default set by MacPorts base.
If available, it is encouraged to use the predefined options (like <a href="#_reference.phases.configure.cflags">configure.cflags</a>) instead of modifying configure.env directly.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>CFLAGS=-I${prefix}/include LDFLAGS=-L${prefix}/lib</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.env       QTDIR=${prefix}/lib/qt3</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.env-append    ABI=32
configure.env-delete    TCLROOT=${prefix}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.optflags</dt>
<dd>
<p>Set optimization compiler flags; list modifiers add or delete items from a previous Portfile configure.optflags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>-Os</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.optflags    -O2</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.optflags-append     -finline-functions
configure.optflags-delete     -Os</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.cflags</dt>
<dd>
<p>Set CFLAGS compiler flags; list modifiers add or delete items from a previous Portfile configure.cflags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>${configure.optflags}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cflags    -Os -flat_namespace</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cflags-append     "-undefined suppress"
configure.cflags-delete     -O2</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.ldflags</dt>
<dd>
<p>Set LDFLAGS compiler flags; list modifiers add or delete items from a previous Portfile configure.ldflags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>-L${prefix}/lib -Wl,-headerpad_max_install_names</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.ldflags   "-L${worksrcpath}/zlib -lz"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.ldflags-append    "-L/usr/X11R6/lib -L${worksrcpath}/lib"
configure.ldflags-delete    -L${prefix}/lib/db44</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.cppflags</dt>
<dd>
<p>Set CPPFLAGS to be passed to the C processor; list modifiers add or delete items from a previous Portfile configure.cppflags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>-I${prefix}/include</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cppflags  -I${worksrcpath}/include</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cppflags-append   "-I/usr/X11R6/lib -I${worksrcpath}/lib -DHAVE_RRD_12X"
configure.cppflags-delete   -I${prefix}/lib/db44</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.cxxflags</dt>
<dd>
<p>Set CXXFLAGS to be passed to the C++ processor; list modifiers add or delete items from a previous Portfile configure.cxxflags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>${configure.optflags}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.objcflags</dt>
<dd>
<p>TODO: add description</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>${configure.optflags}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.classpath</dt>
<dd>
<p>TODO: add description</p>
<div class="ulist">
<ul>
<li>
<p>Default: ???</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.macosx_deployment_target</dt>
<dd>
<p>TODO: add description</p>
<div class="ulist">
<ul>
<li>
<p>Default: ???</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.fflags</dt>
<dd>
<p>Set FFLAGS to be passed to the Fortran compiler; list modifiers add or delete items from a previous Portfile configure.fflags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>${configure.optflags}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.fflags    -Os</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.fcflags</dt>
<dd>
<p>Set FCFLAGS to be passed to the Fortran compiler; list modifiers add or delete items from a previous Portfile configure.fcflags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>${configure.optflags}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.fcflags   -Os</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.f90flags</dt>
<dd>
<p>Set F90FLAGS to be passed to the Fortran 90 compiler; list modifiers add or delete items from a previous Portfile configure.f90flags keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>${configure.optflags}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.f90flags  -Os</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.cc</dt>
<dd>
<p>C compiler for the CC environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cc        ${prefix}/bin/gcc-mp-4.2</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.cpp</dt>
<dd>
<p>C preprocessor for the CPP environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cpp       /usr/bin/cpp-3.3</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.cxx</dt>
<dd>
<p>C++ compiler for the CXX environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.cxx       /usr/bin/g++-4.0</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.objc</dt>
<dd>
<p>Objective-C compiler for the OBJC environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.objc      /usr/bin/gcc-4.0</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.fc</dt>
<dd>
<p>Fortran compiler for the FC environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.fc        ${prefix}/bin/gfortran-mp-4.2</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.f77</dt>
<dd>
<p>Fortran 77 compiler for the F77 environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.f77       ${prefix}/bin/gfortran-mp-4.2</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.f90</dt>
<dd>
<p>Fortran 90 compiler for the F90 environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.f90       ${prefix}/bin/gfortran-mp-4.2</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.javac</dt>
<dd>
<p>Java compiler for the JAVAC environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.javac     ${prefix}/bin/jikes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.compiler</dt>
<dd>
<p>Select a compiler suite to fill the compiler environment variables.
All variables/tools a compiler suite can provide are set.
Manually set variables are not overwritten.
Keep in mind that not all compiler suites might be available on your platform: <code class="option">gcc-3.3</code> is available on Mac OS X 10.3 and 10.4 PowerPC, <code class="option">gcc-4.0</code> is available on 10.4 and 10.5, <code class="option">gcc-4.2</code> and <code class="option">llvm-gcc-4.2</code> are available on 10.5 and 10.6, and <code class="option">clang</code> is available on 10.6 and later.</p>
<div class="paragraph">
<p>Only use it if a port really needs a different compiler.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">apple-gcc-4.2</code> on Mac OS X 10.4</p>
</li>
<li>
<p>Default: <code class="option">gcc-4.2</code> with Xcode 3.x on Mac OS X 10.5 and 10.6</p>
</li>
<li>
<p>Default: <code class="option">llvm-gcc-4.2</code> with Xcode 4.0 through 4.2 on Mac OS X 10.6 and 10.7</p>
</li>
<li>
<p>Default: <code class="option">clang</code> with Xcode 4.3 and later on OS X 10.7 and later</p>
</li>
<li>
<p>Values: <code class="option">gcc-3.3</code><code class="option">gcc-4.0</code><code class="option">gcc-4.2</code><code class="option">llvm-gcc-4.2</code><code class="option">clang</code><code class="option">macports-clang-3.3</code><code class="option">macports-clang-3.4</code><code class="option">macports-clang-3.7</code><code class="option">macports-clang-3.8</code><code class="option">macports-clang-3.9</code><code class="option">macports-clang-4.0</code><code class="option">macports-clang-5.0</code><code class="option">macports-clang-6.0</code><code class="option">apple-gcc-4.0</code><code class="option">apple-gcc-4.2</code><code class="option">macports-gcc-4.3</code><code class="option">macports-gcc-4.4</code><code class="option">macports-gcc-4.5</code><code class="option">macports-gcc-4.6</code><code class="option">macports-gcc-4.7</code><code class="option">macports-gcc-4.8</code><code class="option">macports-gcc-4.9</code><code class="option">macports-gcc-5</code><code class="option">macports-gcc-6</code><code class="option">macports-gcc-7</code><code class="option">macports-gcc-8</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.compiler  macports-gcc-4.5</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.perl</dt>
<dd>
<p>Set PERL flag for selecting a Perl interpreter.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.perl      ${prefix}/bin/perl5.26</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.python</dt>
<dd>
<p>Set PYTHON flag for selecting a Python interpreter.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.python    ${prefix}/bin/python2.7</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.ruby</dt>
<dd>
<p>Set RUBY flag for selecting a Ruby interpreter.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.ruby      ${prefix}/bin/ruby</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.install</dt>
<dd>
<p>Set <code>INSTALL</code> flag for selecting an install tool; used for copying files and creating directories.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <em class="path">/usr/bin/install</em></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.install   ${prefix}/bin/ginstall</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.awk</dt>
<dd>
<p>Set AWK flag for selecting an awk executable.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.awk       ${prefix}/bin/gawk</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.bison</dt>
<dd>
<p>Set BISON flag for selecting a bison executable, a parser generator.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.bison     /usr/bin/bison</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.pkg_config</dt>
<dd>
<p>Set PKG_CONFIG flag for helping find pkg_config, a tool for retrieving information about installed libraries.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>???</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.pkg_config    ${prefix}/bin/pkg-config</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.pkg_config_path</dt>
<dd>
<p>Set PKG_CONFIG_PATH flag for telling pkg_config where to search for information about installed libraries.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>${prefix}/lib/pkgconfig:${prefix}/share/pkgconfig</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.pkg_config_path   ${python.prefix}/lib/pkgconfig</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.args</dt>
<dd>
<p>Main arguments to <code>configure.cmd</code>; optional argument modifiers pass arguments before and after the main arguments.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.args      --bindir=${prefix}/bin</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following argument modifiers are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>configure.pre_args</code>, defaults to: <code>--prefix=${prefix}</code></p>
</li>
<li>
<p><code>configure.post_args</code>, defaults to: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>configure.pre_args  --prefix=${prefix}/share/bro
configure.post_args OPT="-D__DARWIN_UNIX03"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_reference.phases.configure.universal">3.7.1. Configure Universal</h4>
<div class="paragraph">
<p>Universal keywords are used to make a port compile on OS X for multiple architectures.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is a default universal variant made available to all ports by MacPorts base, so redefining universal keywords should only be done to make a given port compile if the default options fail to do so.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">configure.universal_args</dt>
<dd>
<p>Arguments used in the configure script to build the port universal.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>--disable-dependency-tracking</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.universal_cflags</dt>
<dd>
<p>Additional flags to put in the CFLAGS environment variable when invoking the configure script.
Default value is based on <code>${configure.universal_archs}</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default:</p>
<div class="paragraph">
<p>(PowerPC Tiger) <code>-isysroot ${developer_dir}/SDKs/MacOSX10.4u.sdk -arch i386 -arch ppc</code></p>
</div>
<div class="paragraph">
<p>(Intel Tiger / Leopard) <code>-arch i386 -arch ppc</code></p>
</div>
<div class="paragraph">
<p>(Snow Leopard and later) <code>-arch x86_64 -arch i386</code></p>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.universal_cppflags</dt>
<dd>
<p>Additional flags to put in the CPPFLAGS environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default:</p>
<div class="paragraph">
<p>(PowerPC Tiger) <code>-isysroot ${developer_dir}/SDKs/MacOSX10.4u.sdk</code></p>
</div>
<div class="paragraph">
<p>(others) none</p>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.universal_cxxflags</dt>
<dd>
<p>Additional flags to put in the CXXFLAGS environment variable when invoking the configure script.
Default value is based on <code>${configure.universal_archs}</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default:</p>
<div class="paragraph">
<p>(PowerPC Tiger) <code>-isysroot ${developer_dir}/SDKs/MacOSX10.4u.sdk -arch i386 -arch ppc</code></p>
</div>
<div class="paragraph">
<p>(Intel Tiger / Leopard) <code>-arch i386 -arch ppc</code></p>
</div>
<div class="paragraph">
<p>(Snow Leopard and later) <code>-arch x86_64 -arch i386</code></p>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">configure.universal_ldflags</dt>
<dd>
<p>Additional flags to put in the LDFLAGS environment variable when invoking the configure script.</p>
<div class="ulist">
<ul>
<li>
<p>Default:</p>
<div class="paragraph">
<p>(PowerPC Tiger) <code>-Wl,-syslibroot,${developer_dir}/SDKs/MacOSX10.4u.sdk -arch i386 -arch ppc</code></p>
</div>
<div class="paragraph">
<p>(Intel Tiger / Leopard) <code>-arch i386 -arch ppc</code></p>
</div>
<div class="paragraph">
<p>(Snow Leopard and later) <code>-arch x86_64 -arch i386</code></p>
</div>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TODO: add example</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_reference.phases.configure.automake_autoconf">3.7.2. Automake, Autoconf, and Autoreconf</h4>
<div class="paragraph">
<p>The list of configure keywords available for ports that need automake and/or autoconf.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">use_autoreconf</dt>
<dd>
<p>Whether or not to use autoreconf</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_autoreconf      yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_automake</dt>
<dd>
<p>Whether or not to use automake.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_automake        yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">automake.env</dt>
<dd>
<p>Environment variables to pass to automake.</p>
<div class="ulist">
<ul>
<li>
<p>Default: ???</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>automake.env        CFLAGS=-I${prefix}/include</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">automake.args</dt>
<dd>
<p>Arguments to pass to automake.</p>
<div class="ulist">
<ul>
<li>
<p>Default: ???</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>automake.args       --foreign</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">automake.dir</dt>
<dd>
<p>Directory in which to run <code class="var">${automake.cmd}</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${worksrcpath}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>automake.dir        ./src</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_autoconf</dt>
<dd>
<p>Whether or not to use autoconf.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_autoconf        yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">autoconf.env</dt>
<dd>
<p>Environmental variables to pass to autoconf.</p>
<div class="ulist">
<ul>
<li>
<p>Default: ???</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>autoconf.env        CFLAGS=-I${prefix}/include/gtk12</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">autoconf.args</dt>
<dd>
<p>Arguments to pass to autoconf.</p>
<div class="ulist">
<ul>
<li>
<p>Default: ???</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>autoconf.args       "-l src/aclocaldir"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">autoconf.dir</dt>
<dd>
<p>Directory in which to run <code class="var">${autoconf.cmd}</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${worksrcpath}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>autoconf.dir        src</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.build">3.8. Build Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the build phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">build.cmd</dt>
<dd>
<p>Make command to run in <code class="var">${worksrcdir}</code>.
Only use it if you can&#8217;t use <code>build.type</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>make</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>build.cmd           scons</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">build.type</dt>
<dd>
<p>Defines which build software is required and sets <code class="var">${build.cmd}</code> accordingly.
The available options are BSD Make, GNU Make, and Xcode.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">default</code> (the default Make on the current platform)</p>
</li>
<li>
<p>Values: <code class="option">default</code><code class="option">bsd</code><code class="option">gnu</code><code class="option">xcode</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>build.type          bsd</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">build.args</dt>
<dd>
<p>Main arguments to <code class="var">${build.cmd}</code>; optional argument modifiers pass arguments before and after the main arguments.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>build.args          -DNOWARN</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following argument modifiers are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>build.pre_args</code>, defaults to: <code class="var">${build.target}</code></p>
</li>
<li>
<p><code>build.post_args</code>, defaults to: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>build.pre_args      -project AudioSlicer.xcode
build.post_args     CFLAGS_SYS="-DUSE_FREETYPE -DPREFER_FREETYPE"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">build.target</dt>
<dd>
<p>Build target to pass to <code class="var">${build.cmd}</code>; list modifiers add or delete items from a previous Portfile build.target keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>all</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>build.target        all-src</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>build.target-append     doc extra
build.target-delete     compat</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">build.env</dt>
<dd>
<p>Set environment variables for build; list modifiers add and delete items from a previous Portfile build.env keyword, or a default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">use_parallel_build</dt>
<dd>
<p>This keyword is for specifying whether or not it is safe for a port to use multiple CPUs or multiple cores in parallel during its build phase.
If <code>use_parallel_build</code> is not set to &#8220;no&#8221; in a given port, the option <code class="option">-j${build.jobs}</code> is passed to <code class="var">${build.cmd}</code> (if <code class="var">${build.cmd}</code> is <code>make</code> or <code>scons</code>).</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">yes</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>use_parallel_build  no</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">build.jobs</dt>
<dd>
<p>The number of simultaneous jobs to run when parallel build is enabled.
The default value is based on the variable <code class="var">buildmakejobs</code> in <em class="path">macports.conf</em>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: If <code class="var">buildmakejobs</code> is 0, the number of CPU cores in the machine, or the number of GB of physical memory plus one, whichever is less. Otherwise,  the actual value of <code>${buildmakejobs}</code>.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.test">3.9. Test Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the test phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">test.run</dt>
<dd>
<p>Enable running test suites bundled with a port.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>test.run            yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">test.cmd</dt>
<dd>
<p>Test command to run relative to <code class="var">${worksrcdir}</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${build.cmd}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>test.cmd            checks.sh</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">test.target</dt>
<dd>
<p>Test target to pass to <code class="var">${test.cmd}</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>test</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>test.target         checks</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">test.args</dt>
<dd>
<p>Main arguments to <code class="var">test.cmd</code>; optional argument modifiers pass arguments before and after the main arguments.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>test.args    -f Makefile.test</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following argument modifiers are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>test.pre_args</code>, defaults to: <code>${test.target}</code></p>
</li>
<li>
<p><code>test.post_args</code>, defaults to: none</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">test.env</dt>
<dd>
<p>Set environment variables for test; list modifiers add and delete items from a previous Portfile test.env keyword, or a default set by MacPorts base.</p>
<div class="paragraph">
<p>Often <code>DYLD_LIBRARY_PATH</code> is set here to support testing dynamically linked libraries.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>test.env       DYLD_LIBRARY_PATH=${worksrcpath}/src/.libs</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_reference.phases.destroot">3.10. Destroot Phase Keywords</h3>
<div class="paragraph">
<p>The list of keywords related to the destroot phase.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">destroot.cmd</dt>
<dd>
<p>Install command to run relative to <code class="var">${worksrcdir}</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${build.cmd}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.cmd        scons</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">destroot.args</dt>
<dd>
<p>Main arguments to <code class="var">${destroot.cmd}</code>; optional argument modifiers pass arguments before and after the main arguments.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.args       BINDIR=${prefix}/bin</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following argument modifiers are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>destroot.pre_args</code>, defaults to: <code class="var">${destroot.target}</code></p>
</li>
<li>
<p><code>destroot.post_args</code>, defaults to: <code class="var">${destroot.destdir}</code></p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.pre_args   -project AudioSlicer.xcode
destroot.post_args  INSTDIR=${destroot}${prefix}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">destroot.target</dt>
<dd>
<p>Install target to pass to <code class="var">${destroot.cmd}</code>; list modifiers add or delete items from a previous Portfile destroot.target keyword or the default set by MacPorts base.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>install</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.target     install install-config install-commandmode</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.target-append  install-plugins
destroot.target-delete  install-commandmode</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">destroot.destdir</dt>
<dd>
<p>Arguments passed to <code class="var">${destroot.cmd}</code> via <code class="var">${destroot.post_args}</code> to install correctly into the destroot.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>DESTDIR=${destroot}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.destdir    prefix=${destroot}${prefix}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If an application&#8217;s Makefile properly supports the DESTDIR variable, MacPorts will automatically destroot the port properly.
A port must destroot properly or the port will not install correctly, upgrade, or uninstall.
If not, you may need to set this variable, or even patch the application&#8217;s Makefile.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">destroot.umask</dt>
<dd>
<p>Umask to use during destroot.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code>022</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.umask      002</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">destroot.keepdirs</dt>
<dd>
<p>A list of directories that should not be removed if empty upon destroot completion.</p>
<div class="ulist">
<ul>
<li>
<p>Default: ???</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.keepdirs   ${destroot}${prefix}/var/run \
                    ${destroot}${prefix}/var/log \
                    ${destroot}${prefix}/var/cache/mrtg</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">destroot.violate_mtree</dt>
<dd>
<p>MacPorts tests for compliance to the common directory structure in <code class="var">${prefix}</code>.
If a port is not compliant with the standard, set it to <code class="option">yes</code>.</p>
<div class="paragraph">
<p>You can find the macports standard in <a href="#_internals.hierarchy">MacPorts File Hierarchy</a> or in the porthier(7) man page.</p>
</div>
<div class="paragraph">
<p>If <code>destroot.violate_mtree</code> is set to <code class="option">yes</code>, the following warning is issued during the installation.</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre>Warning: portname requests to install files outside the common directory structure!</pre>
</div>
</div>
<div class="paragraph">
<p>+
This means that the port installed files outside of their normal locations in <code class="var">${prefix}</code>.
These could be files totally outside of <code class="var">${prefix}</code>, which could cause problems on your computer, or files inside of <code class="var">${prefix}</code> that are not in a standard location.
Use <code>port contents <code class="replaceable">portname</code></code> to see the location for all files that were installed by a given port.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>destroot.violate_mtree      yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference.dependencies">4. Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Free and open source software is highly modular, and MacPorts ports often require that other ports be installed beforehand; these prerequisites for a given port are called a port&#8217;s &#8220;dependencies&#8221;.</p>
</div>
<div class="paragraph">
<p>The keywords used when specifying dependencies in a Portfile are related to port install phases, and they refer to what are called library, build, fetch, extract and run dependencies.
Though all of them install dependencies before a given port is installed, specifying dependencies with the correct keyword is important for proper port upgrade and uninstall behavior, or when running targets other than install.
For example, you may not uninstall a port that is a library dependency for another installed port, though you may remove one that is a build dependency.
Likewise, if you run the fetch target for a port, only the fetch dependencies will be installed first, so they should be all that is needed for that target.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">depends_fetch</dt>
<dd>
<p>The list of dependencies to check before phases <code class="option">fetch</code>, <code class="option">checksum</code>, <code class="option">extract</code>, <code class="option">patch</code>, <code class="option">configure</code>, <code class="option">build</code>, <code class="option">destroot</code>, <code class="option">install</code>, and <code class="option">package</code>.
Fetch dependencies are needed to download the distfiles for a port, and are not needed at all once the software is installed.</p>
</dd>
<dt class="hdlist1">depends_extract</dt>
<dd>
<p>The list of dependencies to check before phases <code class="option">extract</code>, <code class="option">patch</code>, <code class="option">configure</code>, <code class="option">build</code>, <code class="option">destroot</code>, <code class="option">install</code>, and <code class="option">package</code>.
Extract dependencies are needed to unpack a port&#8217;s distfiles into the work directory, and are not needed at all once the software is installed.</p>
</dd>
<dt class="hdlist1">depends_build</dt>
<dd>
<p>The list of dependencies to check before phases <code class="option">configure</code>, <code class="option">build</code>, <code class="option">destroot</code>, <code class="option">install</code>, and <code class="option">package</code>.
Build dependencies are needed when software is being built, but not needed at all once it is installed.</p>
</dd>
<dt class="hdlist1">depends_lib</dt>
<dd>
<p>The list of dependencies to check before phases <code class="option">configure</code>, <code class="option">build</code>, <code class="option">destroot</code>, <code class="option">install</code>, and <code class="option">package</code>.
Library dependencies are needed both at build time (for headers and libraries to link against) and at run time.</p>
</dd>
<dt class="hdlist1">depends_test</dt>
<dd>
<p>The list of dependencies to check before phase <code class="option">test</code>.
Test dependencies are only needed when the port enables testing (i.e. <code class="option">test.run            yes</code>).</p>
</dd>
<dt class="hdlist1">depends_run</dt>
<dd>
<p>The list of dependencies to check before phases <code class="option">destroot</code>, <code class="option">install</code>, and <code class="option">package</code>.
Run dependencies are needed when the software is run, but not to compile it.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_reference.dependencies.types">4.1. Port and File Dependencies</h3>
<div class="paragraph">
<p>There are two types of dependencies: port dependencies and file dependencies.
Port dependencies can be satisfied by reference to a port (the MacPorts registry is queried), or by reference to a file (whether provided by a port or not). The most commonly-used type of dependencies in Portfiles are port dependencies, because dependencies should be provided by MacPorts ported software whenever possible, and usually only one port can provide the needed libraries and files.</p>
</div>
<div class="paragraph">
<p>But when satisfying a dependency with vendor-supplied software is preferred for special reasons, or when it is possible for more than one port to satisfy a dependency, then file dependencies may be used.
An example of the former is with ubiquitous utilities like awk, grep, make or sed, where the versions in macOS are often sufficient; an example of the latter is with &#8220;-devel&#8221; ports&#8212;&#8203;these ports provide a different version of the same files (though only one can be activated at a time).</p>
</div>
<div class="paragraph">
<p>Port dependencies, the preferred type, are specified as shown in these examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>depends_lib         port:rrdtool port:apache2

depends_build       port:libtool

depends_run         port:apache2 port:php5</code></pre>
</div>
</div>
<div class="paragraph">
<p>File dependencies should only be used if one of the reasons listed above applies.
There are three types: <code class="option">bin</code> for programs, <code class="option">lib</code> for libraries, and <code class="option">path</code> for any installed file.
File dependencies are specified in the form: <code class="replaceable">&lt;type&gt;</code>:<code class="replaceable">&lt;filespec&gt;</code>:<code class="replaceable">&lt;port&gt;</code>.</p>
</div>
<div class="paragraph">
<p>For <code class="option">bin</code> dependencies, <code class="replaceable">&lt;filespec&gt;</code> is the name of a program in a bin directory like <em class="path">${prefix}/bin</em>, /usr/bin, /bin, and the associated sbin directories.</p>
</div>
<div class="paragraph">
<p>For <code class="option">lib</code> dependencies, <code class="replaceable">&lt;filespec&gt;</code> is the name of a library (but without its extension) in a lib directory like <em class="path">${prefix}/lib</em>, /usr/lib, /lib, some Framework directories, and those found in environment variables like DYLD_LIBRARY_PATH.</p>
</div>
<div class="paragraph">
<p>For <code class="option">path</code> dependencies, <code class="replaceable">&lt;filespec&gt;</code> is the complete absolute path to the file, or more usually, when the file is inside <em class="path">${prefix}</em>, it is specified relative to <em class="path">${prefix}</em>.
Since <code class="option">path</code> dependencies are the only ones which would find files only in an absolute path or a path inside <em class="path">${prefix}</em> they are - in cases when a port needs to be more restrictive - often used instead of <code class="option">bin</code> and <code class="option">lib</code> dependencies .</p>
</div>
<div class="paragraph">
<p>Note that the <code class="replaceable">&lt;port&gt;</code> specified is only installed if the specified library, binary, or file is not found.
See the examples below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>depends_lib         lib:libX11.6:xorg

depends_build       bin:glibtool:libtool

depends_run         path:lib/libltdl.a:libtool</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference.variants">5. Variants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MacPorts variants are conditional modifications of port installation behavior during port installation.
There are two types of variants: user-selected variants and platform variants.
User-selected variants are options selected by a user when a port is installed; platform variants are selected automatically by MacPorts base according to the OS or hardware platform (darwin, freebsd, linux, i386, powerpc, etc.).</p>
</div>
<div class="sect2">
<h3 id="_reference.variants.user_selected">5.1. User-Selected Variants</h3>
<div class="paragraph">
<p>User-selected variants are those that are defined so a user can invoke them to enable port options at install time.
They also allow a port author a level of modularity and control using the keyword <code>default_variants</code> (see below).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Variant names may contain only letters, numbers and underscore characters.
In particular, the hyphen is not a valid character in variant names because it would conflict with the notation for deselecting a variant.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">variant <code class="replaceable">name</code> <code class="requires [replaceable">variant1 variant2 &#8230;&#8203;</code>] <code class="conflicts [replaceable">variant1 variant2 &#8230;&#8203;</code>] <code class="description [replaceable">description</code>]</dt>
<dd>
<p>The variant declaration may contain any keywords that can be placed in a Portfile&#8217;s global section.
If you wish to execute system (shell) calls or Tcl extensions during the execution of a port phase, you should place those statements within a <code>variant_isset</code> conditional within a phase declaration and not within the variant declaration itself.
Dependencies and conflicts with other variants in the same port can be expressed with <code>requires</code> and <code>conflicts</code> options as shown below.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>variant gnome requires glib {
    configure.args-append   --with-gnome
    depends_lib-append      port:gnome-session
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>variant apache2 conflicts apache {
    configure.args-append \
        --with-apxs2=${prefix}/apache2/bin/apxs
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">default_variants</dt>
<dd>
<p>The optional <code>default_variants</code> keyword is used to specify variants that a port author wishes to have enabled by default.
This allows for Portfile modularity and also allows users to suppress default variants if they wish.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>default_variants    +ssl +tcpd</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Default variants may be suppressed by preceding a variant name with a &#8220;-&#8221; as shown in this example.</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>%% port install foo -ssl</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">universal_variant</dt>
<dd>
<p>When using MacPorts on macOS, a universal variant is defined by default to configure ports with universal flags.
The variant can be overridden if the default code does not work (see the <a href="#_reference.phases.configure.universal">Configure
Universal</a> section above), or suppressed if a universal variant does not function properly for a given port.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">yes</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>universal_variant   no</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_reference.variants.descriptions">5.2. User-Selected Variant Descriptions</h3>
<div class="paragraph">
<p>User-selected variants ought to provide a description, which will be displayed when using command <code>port variants foo</code>.
The syntax used for the description keyword is shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>variant bar description {Add IMAP support} {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Descriptions should be short but clear, and not merely repeat the name of the variant.
To allow for compatibility for possible MacPorts GUI support, a good rule of thumb is to use sentence fragments for brevity, with a capitalized first letter and no trailing punctuation.
Think of them as short labels such as ones you&#8217;d find next to a GUI checkbox or radio button.
Thus, it would be better to write &#8220;Build with support for
    foo&#8221; instead of &#8220;Builds with support for foo&#8221;; &#8220;Add support for foo&#8221; would be better than &#8220;Adds support
    for foo&#8221;.</p>
</div>
<div class="paragraph">
<p>Variant descriptions are strings, so one should take care not to put whitespace between the brackets and the beginning and end of the variant description, and also not to use unnecessary whitespace, unlike with port descriptions and long_descriptions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reference.variants.platform">5.3. Platform Variants</h3>
<div class="paragraph">
<p>Platform variants are either defined by default in MacPorts base, or defined by a port author to customize a port&#8217;s installation according to OS (operating system) or hardware platform.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">platform <code class="replaceable">os</code> <code class="[replaceable">version</code>] <code class="[replaceable">arch</code>]</dt>
<dd>
<p>MacPorts allows platform-specific port options to be specified in a Portfile for handling differences between platforms and versions of the same platform.</p>
<div class="paragraph">
<p><code>platform darwin <code class="replaceable">version</code></code> can be used to handle different tasks depending on the version of Darwin, the core operating system underlying macOS. <code class="replaceable">version</code> is the major version of Darwin, and can be <code>17</code> for macOS High Sierra v10.13, <code>16</code> for macOS Sierra v10.12, <code>15</code> for OS X El Capitan v10.11, and so on.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>platform darwin 10 {
    configure.env-append LIBS=-lresolv
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>platform darwin i386 {
    configure.args-append --disable-mmx
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>platform darwin 8 powerpc {
    configure.compiler gcc-3.3
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
====Though a combination of OS version and hardware platform may be specified in a single platform statement (e.g., darwin 8 i386), it is not possible to specify a range of platforms with a single statement.
For example, to select Darwin versions 9 and 10 while excluding all others, you would need two statements: <code>platform darwin 9</code> and <code>platform darwin 10</code>.
Alternately, you could make that behavior the port&#8217;s default, and add a <code>platform darwin 8</code> block to remove it again.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="content">
<div id="_reference.tcl_extensions" class="paragraph">
<p>= Tcl Extensions &amp; Useful Tcl Commands</p>
</div>
<div class="paragraph">
<p>A MacPorts Portfile is a Tcl script, so it may contain any arbitrary Tcl code you may learn about in a link:Tcl reference manual.
However, few authors will use arbitrary Tcl code; the vast majority will use a subset of Tcl commands and a number of Tcl extensions that are coded within MacPorts for performing the most common tasks needed for Portfiles.
The list below is a list of useful Tcl commands for Portfile development and Tcl extensions provided by MacPorts base.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">file</dt>
<dd>
<p>The standard Tcl <code>file</code> command can be used for a number of operations on files, such as moving, renaming, deleting, or creating directories, among others.
For a complete list, consult the link:Tcl
reference manual for the file command, or the Tcl file manpage in the <code class="option">n</code> section of manpages on your machine using <code>man n file</code></p>
</dd>
<dt class="hdlist1">file copy</dt>
<dd>
<p>Copy a file.</p>
</dd>
<dt class="hdlist1">file rename</dt>
<dd>
<p>Rename a file.</p>
</dd>
<dt class="hdlist1">file delete [-force]</dt>
<dd>
<p>Remove a file or (with <code class="option">-force</code>) a directory and its contents.</p>
</dd>
<dt class="hdlist1">file mkdir</dt>
<dd>
<p>Create a directory.</p>
</dd>
<dt class="hdlist1">macros</dt>
<dd>
<p>For the above operations provided by Tcl&#8217;s <code>file</code> command, MacPorts provides the following shorthands.
These should be used in preference to the Tcl commands above, as they may work around certain bugs.</p>
</dd>
<dt class="hdlist1">copy</dt>
<dd>
<p>Shorthand for <code>file copy</code>.</p>
</dd>
<dt class="hdlist1">move</dt>
<dd>
<p>Similar to <code>file rename</code> but correctly handles renames that only change the case of a file on a case-insensitive filesystem.</p>
</dd>
<dt class="hdlist1">delete</dt>
<dd>
<p>Shorthand for <code>file delete -force</code>.</p>
</dd>
<dt class="hdlist1">touch</dt>
<dd>
<p>Mimics the BSD touch command.</p>
</dd>
<dt class="hdlist1">ln</dt>
<dd>
<p>Mimics the BSD ln command.</p>
</dd>
<dt class="hdlist1">xinstall</dt>
<dd>
<p>xinstall copies files and creates directories; it is intended to be compatible with install(1).</p>
</dd>
<dt class="hdlist1">xinstall <code class="-o [replaceable">owner</code>] <code class="-g [replaceable">group</code>] <code class="-m [replaceable">mode</code>] <code class="[replaceable">file1 file2 &#8230;&#8203;</code>] <code class="replaceable">directory</code></dt>
<dd>
<p>Install the specified file(s) to a destination directory.</p>
</dd>
<dt class="hdlist1">xinstall <code class="-o [replaceable">owner</code>] <code class="-g [replaceable">group</code>] <code class="-m [replaceable">mode</code>] <code class="-W [replaceable">dir</code>] <code class="[replaceable">file1 file2 &#8230;&#8203;</code>] <code class="replaceable">directory</code></dt>
<dd>
<p>Change to <code class="option">dir</code> and install file(s) to a destination directory.</p>
</dd>
<dt class="hdlist1">xinstall <code class="-o [replaceable">owner</code>] <code class="-g [replaceable">group</code>] <code class="-m [replaceable">mode</code>] {*}<code class="glob [replaceable">pattern</code>] <code class="replaceable">directory</code></dt>
<dd>
<p>Install the file(s) matching the glob pattern to a destination directory.
Note the use of the <code class="option">{*}</code> operator to convert the list returned by <code>glob</code> into separate arguments to <code>xinstall</code>.</p>
</dd>
<dt class="hdlist1">xinstall -d <code class="-o [replaceable">owner</code>] <code class="-g [replaceable">group</code>] <code class="-m [replaceable">mode</code>] <code class="replaceable">directory</code></dt>
<dd>
<p>Create a directory including parent directories if necessary.</p>
<div class="paragraph">
<p>Defaults:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>owner -</p>
</li>
<li>
<p>group -</p>
</li>
<li>
<p>mode - <code class="option">0755</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>xinstall -m 640 ${worksrcpath}/README \
   ${destroot}${prefix}/share/doc/${name}</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>xinstall -m 640 -W ${worksrcpath}/doc README INSTALL COPY \
   ${destroot}${prefix}/share/doc/${name}</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>xinstall -m 640 {*}[glob ${worksrcpath}/doc/*] \
   ${destroot}${prefix}/share/doc/${name}</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>xinstall -d ${destroot}${prefix}/share/doc/${name}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">strsed</dt>
<dd>
<p>strsed can be used for string manipulations using regular expressions.
It supports a small subset of the commands known from sed(1).</p>
</dd>
<dt class="hdlist1">strsed <code class="replaceable">string</code> s/<code class="replaceable">regex</code>/<code class="replaceable">replacement</code>/ </dt>
<dd>
<p>Replaces the first instance of <code class="replaceable">regex</code> with <code class="replaceable">replacement</code>.
Refer to re_format(7) for a definition of regular expression syntax.</p>
</dd>
<dt class="hdlist1">strsed <code class="replaceable">string</code> g/<code class="replaceable">regex</code>/<code class="replaceable">replacement</code>/ </dt>
<dd>
<p>The same as the previous format, except all instances of the pattern will be replaced, not only the first (mnemonic: 'g' is for global).</p>
</dd>
<dt class="hdlist1">reinplace</dt>
<dd>
<p>Allows text specified by a regular expression to be replaced by new text, in-place (the file will be updated itself, no need to place output into a new file and rename).</p>
</dd>
<dt class="hdlist1">reinplace <code class="-locale [replaceable">locale</code>] [-n] <code class="-W [replaceable">dir</code>] [--] <code class="replaceable">command</code><code class="replaceable">file &#8230;&#8203;</code></dt>
<dd>
<p>Replace text given by the regular expression portion of the command with the replacement text, in all files specified.</p>
<div class="paragraph">
<p>Use -locale to set the locale.
The default locale is <code>en_US.UTF-8</code>.
For example, <code>-locale C</code> will allow a non-UTF-8 file to be modified (which may otherwise give the error "sed: RE error: illegal byte sequence"), but only operating on ASCII characters.
If you need it to work on non-ASCII characters you need to set a locale with the correct charset for the file, e.g.
"en_US.ISO8859-1".</p>
</div>
<div class="paragraph">
<p>-n is passed to sed to suppress echoing result</p>
</div>
<div class="paragraph">
<p>-W to set a common working directory for multiple files</p>
</div>
<div class="paragraph">
<p>Use -E to use the extended regular expression style (see re_format(7) for a description of the basic and extended styles)</p>
</div>
<div class="paragraph">
<p>Use&#8201;&#8212;&#8201;to end option processing and allow any further dashes not to be treated as options.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>reinplace -W ${worksrcpath} "s|/usr/local|${prefix}|g" configure setup.py</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>reinplace "s|@@PREFIX@@|${prefix}|g" ${worksrcpath}/Makefile</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">user/group</dt>
<dt class="hdlist1">adduser username <code class="uxml:id=[replaceable">uid</code>] <code class="gxml:id=[replaceable">gid</code>] <code class="passwd=[replaceable">passwd</code>] <code class="realname=[replaceable">realname</code>] <code class="home=[replaceable">home</code>] <code class="shell=[replaceable">shell</code>]</dt>
<dd>
<p>Add a new local user to the system with the specified uid, gid, password, real name, home directory and login shell.</p>
</dd>
<dt class="hdlist1">existsuser <code class="replaceable">username</code></dt>
<dd>
<p>Check if a local user exists.
Returns the uid for the given user, or 0 if the user wasn&#8217;t found.
Checking for the root user is not supported because its uid is 0, and it will always exist anyway.</p>
</dd>
<dt class="hdlist1">nextuid</dt>
<dd>
<p>Returns the highest used uid plus one.</p>
</dd>
<dt class="hdlist1">addgroup <code class="replaceable">group</code> <code class="gxml:id=[replaceable">gid</code>] <code class="passwd=[replaceable">passwd</code>] <code class="realname=[replaceable">realname</code>] <code class="users=[replaceable">users</code>]</dt>
<dd>
<p>Add a new local group to the system, with the specified gid, password, real name, and with a list of users as members.</p>
</dd>
<dt class="hdlist1">existsgroup <code class="replaceable">group</code></dt>
<dd>
<p>Check if a local group exists and return the corresponding gid.
This can be used with adduser:</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>addgroup foo
adduser foo gxml:id=[existsgroup foo]</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">nextgid</dt>
<dd>
<p>Returns the highest used gid plus one.</p>
</dd>
<dt class="hdlist1">External program execution</dt>
<dd>
<p>Use only when &#8230;&#8203;.
:leveloffset: 0</p>
</dd>
</dl>
</div>
<div id="_reference.startupitems" class="paragraph">
<p>= StartupItems</p>
</div>
<div class="paragraph">
<p>A StartupItem is a MacPorts facility to run &#8220;daemons,&#8221; a Unix term for programs that run continuously in the background, rather than under the direct control of a user; for example, mail servers, network listeners, etc.
Ports that use StartupItem keywords create scripts for link:launchd, which is the Apple facility introduced with Mac OS X 10.4 to replace xinetd for starting and managing daemons.
To support <code>launchd</code>, a program named <code>daemondo</code> is provided by MacPorts base that serves as an adapter between <code>launchd</code> and daemons (&#8220;executable&#8221; StartupItems) or traditional Unix startup scripts that start daemons (&#8220;script&#8221; StartupItems).</p>
</div>
<div class="paragraph">
<p>There are three categories of StartupItem keywords.
Those that trigger StartupItem creation and logging, those that specify attributes of &#8220;executable&#8221; StartupItems, and those that specify attributes of &#8220;script&#8221; StartupItems.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The variable <code class="var">startupitem_type</code> in <em class="path">${prefix}/etc/macports/macports.conf</em> may be set to <code class="option">none</code> to globally override all StartupItem keywords found in Portfiles; this prevents StartupItems from being created.</p>
</div>
<div class="exampleblock">
<div class="content">
<div id="_reference.startupitems.attributes" class="paragraph">
<p>== StartupItem Attributes</p>
</div>
<div class="paragraph">
<p>The keywords in this section may be used with either &#8220;executable&#8221; or &#8220;script&#8221; StartupItems (see below).</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">startupitem.create</dt>
<dd>
<p>Trigger the creation of a StartupItem.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.create      yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">startupitem.name</dt>
<dd>
<p>Sets the name for the StartupItem.
Defaults to the name of the port, so this keyword is usually unnecessary.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="var">${name}</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.name        dhcpd</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">startupitem.logfile</dt>
<dd>
<p>Path to a logfile for logging events about the lifetime of the StartupItem.
Depending on the type of StartupItem, and the manner in which it is started, standard output from the daemon may also be directed to the logfile.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <em class="path">/dev/null</em></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.logfile     ${prefix}/var/log/mydaemon.log</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">startupitem.logevents</dt>
<dd>
<p>Control whether or not to log events to the log file.
If logevents is set, events with timestamps are logged to the logfile.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.logevents   yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">startupitem.netchange</dt>
<dd>
<p>Cause the daemon to be restarted when a change in network state is detected.</p>
<div class="ulist">
<ul>
<li>
<p>Default: <code class="option">no</code></p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.netchange   yes</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div id="_reference.startupitems.executable" class="paragraph">
<p>== Executable StartupItems</p>
</div>
<div class="paragraph">
<p>Daemons run continuously, so monitoring the health of daemon processes and restarting them if they die is an important StartupItems' feature. &#8220;Executable&#8221; StartupItems are preferred over &#8220;script&#8221; StartupItems because <code>daemondo</code> launches the daemon <em>directly</em>, rather than <em>indirectly</em> via a script, and therefore it automatically knows how to monitor a daemon process and restart it if it dies.
Daemons used with &#8220;executable&#8221; StartupItems may be programs or scripts (shell, perl, python, etc.) as long as the script <em>itself</em> is the daemon, rather than merely what launches the daemon.
In the latter case &#8220;script&#8221; StartupItems are to be used.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Since &#8220;script&#8221; and &#8220;executable&#8221; are mutually exclusive StartupItem types, the <code>startupitem.executable</code> keyword may not be used in a Portfile that uses any keywords listed in the <a href="#_reference.startupitems.script">Script StartupItems
      section</a>.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">startupitem.executable</dt>
<dd>
<p>Specifies the name of the daemon to be run.
It may have multiple arguments, but they must be appropriate for a call to exec; arbitrary shell code may not be used.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>Some daemons &#8220;daemonize&#8221; by detaching themselves from the controlling tty before sending themselves to the background, thus making themselves a child of the original process.
A daemon to be started with <code>startupitem.executable</code> must not be allowed to do this or daemondo will think the process has died and start multiple instances.
Often daemons have a command switch to run in the foreground, and this method should be used for daemons that detach.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.executable  ${prefix}/sbin/vm-pop3d -d 10 -t 600</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Do not wrap values in quotes if passing arguments to the daemon; &#8220;executable&#8221; StartupItem elements must be tagged individually so the spaces between arguments serve as delimiters for &#8220;string&#8221; tags.
For example, this startupitem key/value pair:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.executable    ${prefix}/sbin/vm-pop3d -d 10 -t 600</code></pre>
</div>
</div>
<div class="paragraph">
<p>generates a .plist file with these tags:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;key&gt;ProgramArguments&lt;/key&gt;
&lt;array&gt;
    &lt;string&gt;/opt/local/bin/daemondo&lt;/string&gt;
    &lt;string&gt;--label=vm-pop3d&lt;/string&gt;
    &lt;string&gt;--start-cmd&lt;/string&gt;
    &lt;string&gt;/opt/local/sbin/vm-pop3d&lt;/string&gt;
    &lt;string&gt;-d&lt;/string&gt;
    &lt;string&gt;10&lt;/string&gt;
    &lt;string&gt;-t&lt;/string&gt;
    &lt;string&gt;600&lt;/string&gt;
    &lt;string&gt;;&lt;/string&gt;
&lt;/array&gt;</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div id="_reference.startupitems.script" class="paragraph">
<p>== Script StartupItems</p>
</div>
<div class="paragraph">
<p>StartupItems of type &#8220;script&#8221; create a wrapper during port installation for <code>daemondo</code> that will be used to launch a daemon startup script present in an application&#8217;s source distribution (MacPorts does not create daemon startup scripts) for daemons that require a script.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>&#8220;Executable&#8221; StartupItems are the preferred type since &#8220;script&#8221; StartupItems launch daemons <em>indirectly</em>, and this requires that port authors use the <code>startupitem.pidfile</code> keyword so that <code>daemondo</code> can check this pid file to see is a daemon process has died and restart it.
Any time a script (or an executable) itself serves as a daemon, use the &#8220;executable&#8221; StartupItem type so daemondo will launch it directly and track its health automatically.
Additionally, since &#8220;script&#8221; and &#8220;executable&#8221; are mutually exclusive StartupItem types, the <code>startupitem.executable</code> keyword may not be used in a Portfile that uses &#8220;script&#8221; StartupItem keywords.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>A typical snippet of a startup script that may be used with a &#8220;script&#8221; StartupItem is shown below.
Notice that the script is not a daemon; rather the script indirectly launches the vm-pop3d daemon.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#!/bin/sh

case "$1" in
    start)
        echo -n "Starting vm-pop3d: "
        /opt/local/sbin/vm-pop3d -d 10 -t 600

[... trimmed ...]</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">startupitem.start</dt>
<dd>
<p>Specify a shell script to start, stop, and restart the daemon.
In the absence of <code>startupitem.restart</code>, the daemon will be restarted by taking the stop action, followed by the start action.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Examples:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.start       "${prefix}/share/mysql/mysql.server start"
startupitem.stop        "${prefix}/share/mysql/mysql.server stop"
startupitem.restart     "${prefix}/share/mysql/mysql.server restart"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>Wrap the stop, start, and restart values in quotes so they will be placed in the wrapper tagged as a single element.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">startupitem.init</dt>
<dd>
<p>Shell code that will be executed prior to any of the options <code>startupitem.start</code>, <code>startupitem.stop</code> and <code>startupitem.restart</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Default: none</p>
</li>
<li>
<p>Example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.init        BIN=${prefix}/sbin/bacula-fd</code></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">startupitem.pidfile</dt>
<dd>
<p>This keyword must be defined properly for <code>daemondo</code> to be able to monitor daemons launched via &#8220;script&#8221; StartupItems and restart them if they die.
It specifies two things: a process id (PID) file handling method, and a pidfile name and path.</p>
<div class="ulist">
<ul>
<li>
<p></p>
<div class="paragraph">
<p>+
Default: <code>none
${prefix}/var/run/${name}.pid</code></p>
</div>
<div class="paragraph">
<p>+
Default: [none] | <em class="[path">${prefix}/var/run/${name}.pid</em>]</p>
</div>
</li>
<li>
<p></p>
<div class="paragraph">
<p>Values [none auto manual clean] <code class="[replaceable">/path/to/pidfile</code>]</p>
</div>
</li>
<li>
<p>Example:</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>startupitem.pidfile     auto ${prefix}/var/run/${name}.pidfile</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="paragraph">
<p>+
PID file handling options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="option">none</code> - daemondo will not create or track a PID file, so it won&#8217;t know when a daemon dies.</p>
</li>
<li>
<p><code class="option">auto</code> - The started process is expected to create a PID file that contains the PID of the running daemon; daemondo then reads the PID from the file and tracks the process. The started process must delete the PID file if this is necessary.</p>
</li>
<li>
<p><code class="option">clean</code> - The started process is expected to create a PID file that contains the PID of the running daemon; daemondo then reads the PID from the file and tracks the process, and deletes the PID file if it detects the daemon has died.</p>
</li>
<li>
<p><code class="option">manual</code> - This option should only be used if an &#8220;executable&#8221; StartupItem could be used (daemondo launches a daemon directly) <em>and</em> a port author wants a PID file written for some special use. A PID file is not needed to detect process death for daemons launched directly by daemondo. As with executable StartupItems, daemondo remembers the PID of the launched process and tracks it automatically.</p>
</li>
</ul>
</div>
<div id="_reference.startupitems.launchd" class="paragraph">
<p>== Loading / Unloading StartupItems into launchd</p>
</div>
<div class="paragraph">
<p>A port with a StartupItem places a link to a .plist file for the port&#8217;s daemon within <em class="path">/Library/LaunchDaemons/</em>.
A .plist file is an XML file; MacPorts installs .plist files tagged as &#8220;disabled&#8221; for the sake of security.
You may enable a startup script (tag the.plist file as &#8220;enabled&#8221;) and load it into <code>launchd</code> with a single command as shown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>%% sudo launchctl load -w /Library/LaunchDaemons/org.macports.mysql5.plist</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may stop a running startup script, disable it (tag the.plist file as &#8220;disabled&#8221;), and unload it from <code>launchd</code> with a single command as shown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>%% sudo launchctl unload -w /Library/LaunchDaemons/org.macports.mysql5.plist</code></pre>
</div>
</div>
<div id="_reference.startupitems.internals" class="paragraph">
<p>== StartupItem Internals</p>
</div>
<div class="paragraph">
<p>During port installation a MacPorts StartupItem creates a .plist file in <em class="path">${prefix}/etc/LaunchDaemons/</em>, and places a symbolic link to the .plist file within <em class="path">/Library/LaunchDaemons/</em>.</p>
</div>
<div class="paragraph">
<p>For example, the StartupItem for the mysql5 port is <em class="path">org.macports.mysql5.plist</em>, and it is linked as shown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>%% ls -l /Library/LaunchDaemons</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>org.macports.mysql5.plist -&gt;
     /opt/local/etc/LaunchDaemons/org.macports.mysql5/org.macports.mysql5.plist</pre>
</div>
</div>
<div class="paragraph">
<p>For &#8220;script&#8221; StartupItems, in addition to a .plist file, a wrapper is also created.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>%% ls -l /opt/local/etc/LaunchDaemons/org.macports.mysql5/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>-rwxr-xr-x   2 root  wheel  475 Aug  2 14:16 mysql5.wrapper
-rw-r--r--   2 root  wheel  975 Aug  2 14:16 org.macports.mysql5.plist
----The wrapper manipulates the script as specified in the startupitem.start and startupitem.stop keywords.
An example wrapper script snippet is shown below.

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>#!/bin/sh</p>
</div>
<div class="paragraph">
<p># MacPorts generated daemondo support script</p>
</div>
<div class="paragraph">
<p># Start
Start()
{
    /opt/local/share/mysql5/mysql/mysql.server start
}</p>
</div>
<div class="paragraph">
<p># Stop
Stop()
{
    /opt/local/share/mysql5/mysql/mysql.server stop
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:leveloffset: 0

:leveloffset: 1
[[_reference.livecheck]]
= Livecheck / Distcheck

Options livecheck and distcheck are especially useful for port maintainers, but others may also find this information valuable.

Livecheck checks to see if MacPorts can query the developer's download site to determine if a newer version of the software has become available since the port was installed.

livecheck.type::
Specify what kind of update check to perform.
+
Open source mirror site options are to use the project's latest file release from [option]``sourceforge`` or the project's `date_updated` XML tag for [option]``freecode``.
These options are automatically used if a matching [var]``${master_sites}`` URL is used.
+
Generic download site options are to specify a [option]``moddate`` (modification date of a URL resource), a [option]``regex`` (retrieve the version by applying a regex to a URL resource), [option]``regexm`` (retrieve the version by applying a multi-line regex to a URL resource), [option]``md5`` (compares the md5 sum of a URL resource) or [option]``none`` (no check).

* Default: [option]``sourceforge`` or [option]``googlecode`` if the [var]``${master_sites}`` is one of these, else [option]``freecode``.
* Values: [option]``freecode``[option]``sourceforge``[option]``googlecode``[option]``moddate``[option]``regex``[option]``regexm``[option]``md5``[option]``none``
* Examples:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>livecheck.type     regex
livecheck.url       ${homepage}
livecheck.regex     "Generally Available (\\d+(?:\\.\\d+)*)"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>livecheck.name::
Name of the project for live checks.
Is only used with freecode, sourceforge

* Default: [var]``${name}`` or the sourceforge, freecode project name if it can be guessed from [var]``${master_sites}``.
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>livecheck.name      hibernate</p>
</div>
<div class="listingblock">
<div class="content">
<pre>livecheck.distname::
Name of the file release for sourceforge checks.
Use the name of the package release.
You may use this keyword without `livecheck.version` if you replace the version part of the name with "``(.*)``".

* Default: sourceforge: [var]``${livecheck.name}``
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>livecheck.distname  faad2.src</p>
</div>
<div class="listingblock">
<div class="content">
<pre>livecheck.version::
Version of the project for a check; used for regex-based checks.

* Default: [var]``${version}``
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>livecheck.version   ${name}-${version}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>livecheck.url::
URL to query for a check.

* Default:
** [var]``${homepage}`` or the first hit among the following sites:
** `http://freecode.com/projects-xml/${livecheck.name}/${livecheck.name}.xml`
** `https://sourceforge.net/api/file/index/project-name/${livecheck.name}/rss`
** `https://code.google.com/p/${livecheck.name}/downloads/list`
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>livecheck.url       <a href="https://ftp.gnu.org/gnu/bison/" class="bare">https://ftp.gnu.org/gnu/bison/</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>livecheck.regex::
Regular expression to parse the resource for regex checks.
Be sure to use a regular expression grouping around the version component.
Also remember that square brackets need to be quoted because Tcl otherwise interprets them as a procedure call.

* Default: none
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>livecheck.regex     4th-(\[a-z0-9.\]+)-unix${extract.suffix}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>+

livecheck.md5::
md5 checksum to use for an md5 comparison.

* Default: none
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>livecheck.md5       37e6a5b6516a680c7178b72021d3b706</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Distcheck reports whether or not the distfile(s) specified in a Portfile are still available on the developer's download site.
Examples are given below.

distcheck.check::
This option can be used to disable distcheck.
It specifies what kind of check should be performed on distfiles: [option]``moddate`` (check if the Portfile is older than the distfile) or [option]``none`` (no check).

* Default: [option]``moddate``
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>distcheck.check     none</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:leveloffset: 0

[[_reference.portgroup]]
== PortGroups

:leveloffset: 2
[[_reference.portgroup.intro]]
= PortGroup Introduction

PortGroups are simply include files for portfiles.
They can define as much or as little as a portgroup author feels is necessary to provide a set of definitions or behaviors common to a group of portfiles, in order that those portfiles can be expressed as simply as possible with minimum redundancy.

See the following folder for PortGroup definitions:

[path]_${prefix}/var/macports/sources/rsync.macports.org/macports/release/tarballs/ports/_resources/port1.0/group/_

A sample listing follows:


[source]</pre>
</div>
</div>
<div class="paragraph">
<p>%% ls -1 /opt/local/var/macports/sources/rsync.macports.org/macports/release/tarballs/ports/_resources/port1.0/group/</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
<div class="paragraph">
<p>active_variants-1.1.tcl
apache2-1.0.tcl
app-1.0.tcl
archcheck-1.0.tcl
bitbucket-1.0.tcl
cmake-1.0.tcl
cmake-1.1.tcl
compiler_blacklist_versions-1.0.tcl
compilers-1.0.tcl
conflicts_build-1.0.tcl
crossbinutils-1.0.tcl
crossgcc-1.0.tcl
cxx11-1.0.tcl
cxx11-1.1.tcl
debug-1.0.tcl
elisp-1.0.tcl
github-1.0.tcl
&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The requirements of a minimum portfile using a portgroup varies by portgroup.
The sections below devoted to each portgroup (or, for portgroups not documented there yet, the comments in the header of the portgroup file itself) should provide guidance on how each portgroup is used.
Prospective MacPorts developers are also encouraged to examine existing portfiles that use these portgroups.
:leveloffset: 0

:leveloffset: 2
[[_reference.portgroup.github]]
= PortGroup github

The `github` portgroup allows for efficient porting of software hosted on GitHub.

[[_reference.portgroup.github.description]]
== Description

This portgroup greatly simplifies the porting of software hosted on GitHub.
Provided a GitHub repository author follows common GitHub practices, a port can be almost fully configured simply by declaring the repository coordinates.
The `github` portgroup is indeed capable of configuring, amongst other things:

* The port ``name``.
* The port ``version``.
* The `distfiles` (if the project uses GitHub releases).
* The `livecheck` parameters.


[[_reference.portgroup.github.setup]]
== Setting up the GitHub repository coordinates

The main port configuration is triggered by the usage of the `github.setup` keyword:
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>PortGroup           github 1.0
github.setup        author project version [tag_prefix]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>By default, the port `name` will be set to the GitHub project name (``project``) and `version` will be set to the GitHub project ``version``.
The port name can be overridden by using the `name` keyword.

The `tag_prefix` is optional, and it's used to specify a prefix to use when constructing the tag name.
If, for example, the project uses tags such as ``v1.0.0``, then the `tag_prefix` should be set to ``v``, as in the following example:
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>github.setup        author project version v</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[[_reference.portgroup.github.distfilestrategy]]
== Choosing a distfile strategy

GitHub, and as a consequence the `github` portgroup, offers multiple mechanisms to get a distfile:

* Distfile from a `git` commit or tag.
* Distfile from a GitHub link:release.
* Distfile from a GitHub link:download.

The default behaviour of the portgroup is using GitHub automatically generated distfile from a `git` commit or tag.
However, the best practice should be using a GitHub release.

[[_reference.portgroup.github.distfile]]
== Distfile from tag or commit

The default behaviour of the `github` portgroup is leveraging GitHub's ability to create a distfile from a `git` tag or commit.
In this case, the `distname` is irrelevant and should not be set.

If the project's developers do not tag their releases, they should be encouraged to do so.
Until they do, or in the case in which an untagged development version has to be used, port maintainers have the possibility of specifying a `git` commit hash and manually set the `version` field.
If the project does not assign version numbers the port maintainer has to define one.
Such versions typically format the date of the chosen commit using the `YYYYMMDD` pattern.
If, for example, the port maintainer decides to use a changeset with the hash ``0ff25277c3842598d919cd3c73d60768``, committed on April 1, 2014, then the following would be used:
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>github.setup        someone someproject 0ff25277c3842598d919cd3c73d60768
version             20140401</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[[_reference.portgroup.github.releases]]
== Distfile from a GitHub release

The `github` portgroup allows maintainers to easily configure the distfiles when the project uses GitHub releases.
A release is the best distfile candidate, and project maintainers should be encouraged to use them.
To enable this feature, the following keyword must be used:
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>github.tarball_from releases</p>
</div>
<div class="listingblock">
<div class="content">
<pre>By default, the `github` portgroup sets `distname` to:
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>distname            ${github.project}-${github.version}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>However, GitHub does not enforce any rule for release distfiles, so port maintainers may need to override the `distname` as they would do for other ports.

[[_reference.portgroup.github.downloads]]
== Distfile from a GitHub download

Older projects use the discontinued link:downloads service.
New GitHub downloads can no longer be created, but old ones are still available.

If the project doesn't have GitHub releases but does have GitHub downloads, they can be used using the following keyword:
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>github.tarball_from downloads</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Since GitHub doesn't enforce any naming rules for downloads, the portgroup can only provide a sensible default value for ``distname``, which can be overridden if necessary.

[[_reference.portgroup.github.submodule]]
== Using repositories with git submodules

If the project uses `git` submodules, some projects' tag- or commit-based distfiles will not contain all the necessary files.
Once again, the best distfile candidate (if available) is a distfile from GitHub releases, as described in the previous sections.
However, in the case a project doesn't provide any other alternative, a project using submodules can be successfully retrieved by fetching the sources using `git` and then using a `post-fetch` to initialize the submodules:
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>fetch.type          git</p>
</div>
<div class="paragraph">
<p>post-fetch {
    system -W ${worksrcpath} "git submodule update --init"
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:leveloffset: 0

:leveloffset: 2
[[_reference.portgroup.gnustep]]
= PortGroup gnustep

PortGroup gnustep allows for efficient porting of GNUstep-based open source software using the GNU objective-C runtime that defines options for the configuration, build, and destroot phases, and also defines some values for GNUstep-based software.
A minimum Portfile using the gnustep PortGroup class need only define the fetch and the checksum phases.

[[_reference.portgroup.gnustep.portgroup_keywords]]
== gnustep PortGroup Specific Keywords

Portfiles using the gnustep PortGroup allow for port authors to set the following keywords in addition to the general Portfile keywords.

gnustep.post_flags::
An associative array which specifies the sub-directories relative to ${worksrcpath} and the SHARED_LD_POSTFLAGS variables to be added to GNUmakefile.preamble in those sub-directories.
This helps making the patching process easier on Darwin.

* Type: optional
* Default: none
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>platform darwin {
    array set gnustep.post_flags {
        BundleSubDir "-lfoo -lbar"
    }
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gnustep.cc::
Define the gcc compiler to use when compiling a port.

* Type: optional
* Default: gcc-mp-4.2
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>gnustep.cc gcc-mp-4.3</p>
</div>
<div class="listingblock">
<div class="content">
<pre>variant with_docs::
Many GNUstep packages include a Documentation sub-directory that is not built by default.
Enabling this variant builds and installs the included documentation.

* Type: optional
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>%% port install gnustep-gui +with_docs</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[[_reference.portgroup.gnustep.filesystem_keywords]]
== gnustep FilesystemLayout Keywords

PortGroup gnustep supports both the traditional gnustep file layout and the new fhs file layout.
However, a given ported application does not necessarily support both.
The Portfiles have access to many procedures to handle these two layouts:

set_gnustep_make::
Sets GNUSTEP_MAKEFILES according to the FilesystemLayout

set_gnustep_env::
Sets DYLD_LIBRARY_PATH and PATH for the gnustep FilesystemLayout

gnustep_layout::
Returns true (1) if current file layout is gnustep

set_system_library::
Sets GNUSTEP_SYSTEM_LIBRARY according to the FilesystemLayout

set_local_library::
Sets GNUSTEP_LOCAL_LIBRARY according to the FilesystemLayout

[[_reference.portgroup.gnustep.sugar]]
== gnustep PortGroup Sugar

Portfiles using PortGroup gnustep do not need to define the following variables:

categories::
Default: gnustep

homepage::
Default: http://www.gnustep.org/

master_sites::
Default: gnustep:core

depends_lib::
Default: gnustep-core

use_configure::
Default: no

configure.env::
Default: DYLD_LIBRARY_PATH PATH

configure.pre_args-append::
Default: CC=gcc-mp-4.2 GNUSTEP_MAKEFILES

build.type::
Default: gnu

build.env::
Default: DYLD_LIBRARY_PATH PATH

build.pre_args-append::
Default: messages=yes

destroot.env::
Default: DYLD_LIBRARY_PATH PATH

destroot.pre_args-append::
Default: messages=yes
:leveloffset: 0

:leveloffset: 2
[[_reference.portgroup.haskell]]
= PortGroup haskell

PortGroup haskell simplifies the addition of Haskell packages.

[[_reference.portgroup.haskell.keywords]]
== haskell PortGroup Specific Keywords

Portfiles using the haskell PortGroup allow for port authors to set the following keywords in addition to the general Portfile keywords.

haskell.setup::
This keyword sets a number of port variables.

* Type: required
* Synopsis: the first argument is the package name, as called by hackageDB; the second is the version number
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>haskell.setup   digest 0.0.0.2</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[[_reference.portgroup.haskell.sugar]]
== haskell PortGroup Sugar

Portfiles using PortGroup haskell do not need to define the following variables:

name::
Default: hs-[string tolower ${package}]

version::
Default: ${version} (from haskell.setup)

categories::
Default: devel haskell

homepage::
Default: https://hackage.haskell.org

master_sites::
Default: ${homepage}/packages/archive/${package}/${version}

distname::
Default: ${package}-${version}

depends_build::
Default: ghc

configure, build, and destroot phases::
Default: proper setup to run these phases

post-destroot::
Default: creates and installs (into destroot) the register.sh and unregister.sh scripts

post-activate::
Default: runs the register.sh scripts

livecheck::
Default: runs livecheck against the package's information page
:leveloffset: 0

:leveloffset: 2
[[_reference.portgroup.perl]]
= PortGroup perl5

PortGroup perl5 allows for efficient porting of perl modules and other perl open source software.

[[_reference.portgroup.perl.keywords]]
== perl5 PortGroup Specific Keywords

Portfiles using the perl5 PortGroup allow for port authors to set the following keywords in addition to the general Portfile keywords.

perl5.setup::
This keyword sets the ${distfile} and ${version}.

* Type: required
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>perl5.setup          Net-Telnet 3.03</p>
</div>
<div class="listingblock">
<div class="content">
<pre>perl5.use_module_build::
Perl modules are ordinarily assumed to be built with ExtUtils::MakeMaker.
Use this keyword if a module must be built using Module::Build instead.

* Type: optional
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>perl5.use_module_build</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[[_reference.portgroup.perl.sugar]]
== perl5 PortGroup Sugar

Portfiles using PortGroup perl5 do not need to define the following variables:

categories::
Default: perl

master_sites::
Default: perl_cpan:${perl5.cpandir}

depends_lib::
Default: perl5.26

use_configure::
Default: no

[[_reference.portgroup.perl.variables]]
== perl5 PortGroup Specific Variables

When the perl5 PortGroup is declared within a Portfile, the following variables are provided during port install.

perl5.version::
The MacPorts Perl version.

perl5.bin::
The Perl binary path (i.e., [path]_${prefix}/bin/perl_).

perl5.lib::
Path to the Perl vendor directory.

perl5.archlib::
Path to the Perl architecture-dependent modules directory.
:leveloffset: 0

:leveloffset: 2
[[_reference.portgroup.python]]
= PortGroup python

PortGroup python allows for efficient porting of python-based open source software.

[[_reference.portgroup.python.keywords]]
== python PortGroup Specific Keywords

Portfiles using the python PortGroup allow for port authors to set the following keywords in addition to the general Portfile keywords.

python.versions::
Defines the python versions supported by this port.
If the port name starts with "`py-`", then a subport will be defined for each version in the list.
For example, if a port named "`py-foo`" declares ``python.versions 26 27``, subports "`py26-foo`" and "`py27-foo`" will be created, and will depend on python26 and python27 respectively.
+
If the port name does not start with "`py-`", it is interpreted as an application written in python rather than a python module.
In this case, no subports are defined, and `python.versions` defaults to the value of ``python.default_version``, which must be set.
For example, if a port named "`mercurial`" sets ``python.default_version 27``, then `python.versions` will automatically be set to "`27`", and a dependency on python27 will be added.

* Type: required for modules, optional for apps
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>python.versions     25 26 27</p>
</div>
<div class="listingblock">
<div class="content">
<pre>python.default_version::
For modules (i.e., name starts with "`py-`"), this sets the subport that will be installed if the user asks to install "`py-foo`" rather than, e.g., "`py26-foo`" or "`py27-foo`".
If not explicitly set, a reasonable default is chosen from the list in ``python.versions``.
+
For applications (i.e., name does not start with "`py-`"), this chooses which version of python to use, and must be set.
It can be changed in variants if desired.

* Type: required for apps, optional for modules
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>python.default_version     32</p>
</div>
<div class="listingblock">
<div class="content">
<pre>python.link_binaries::
When "`yes`" (the default), tells the PortGroup to automatically link any executable binaries installed in the bin/ directory within the framework into [path]_${prefix}/bin_.

* Type: optional
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>python.link_binaries     no</p>
</div>
<div class="listingblock">
<div class="content">
<pre>python.link_binaries_suffix::
Suffix to add to the names of the links created in [path]_${prefix}/bin_ when [var]``${python.link_binaries}`` is enabled.
Can be cleared if no suffix is desired.

* Type: optional
* Default: -[var]``${python.branch}``

python.add_archflags::
When yes (the default), the PortGroup will automatically try to pass the correct arch-specific flags during build time (via the standard CFLAGS, LDFLAGS, etc environment variables). Set this to "`no`" and set up those variables in `build.env` manually if the default does not work.

* Type: optional
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>python.add_archflags     no</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[[_reference.portgroup.python.variables]]
== python PortGroup Specific Variables

When the python PortGroup is declared within a Portfile, the following variables are provided.

python.version::
The python version in use in the current subport.
This will be one of the versions listed in ``python.versions``.

python.branch::
The python version in use in the current subport, in normal dotted notation.
For example, if `python.version` is "`26`", `python.branch` will be "`2.6`".

python.prefix::
The prefix in which the current python version is installed.
For framework builds, this is [path]_${frameworks_dir}/Python.framework/Versions/${python.branch}_, whereas for non-framework builds, it is the same as [var]``${prefix}``.

python.bin::
The path to the MacPorts Python executable.

python.lib::
The Python dynamic library path, i.e., [path]_${python.prefix}/Python_ (framework builds) or [path]_${prefix}/lib/libpython2.4.dylib_ (python24).

python.libdir::
The path to python's lib directory, i.e., [path]_${python.prefix}/lib/python${python.branch}_.

python.include::
Path to the Python include directory.

python.pkgd::
Path to the Python site-packages directory.
(i.e., [path]_${python.prefix}/lib/python${python.branch}/site-packages_).

[[_reference.portgroup.python.sugar]]
== python PortGroup Sugar

Portfiles using PortGroup python do not need to define the following variables:

categories::
Default: python

depends_lib::
Default: port:python[var]``${python.version}``

use_configure::
Default: no

build.cmd::
Default: [var]``${python.bin}`` setup.py --no-user-cfg

build.target::
Default: build

destroot.cmd::
Default: [var]``${python.bin}`` setup.py --no-user-cfg

destroot.destdir::
Default: --prefix=[var]``${python.prefix}`` --root=[var]``${destroot}``

pre-destroot::
Default: creates directory [path]_${destroot}${prefix}/share/doc/${subport}/examples_.
:leveloffset: 0

:leveloffset: 2
[[_reference.portgroup.ruby]]
= PortGroup ruby

PortGroup ruby allows for efficient porting of ruby-based open source software.

[[_reference.portgroup.ruby.variables]]
== ruby PortGroup Specific Variables

When the ruby PortGroup is declared within a Portfile, the following variables are provided during port install.

ruby.version::
The MacPorts Ruby version.

ruby.bin::
The Ruby binary location.

ruby.lib::
Path to the Ruby vendorlibdir directory (i.e., [path]_${prefix}/lib/ruby/vendor_ruby/${ruby.version}_)

ruby.arch::
The name for the Ruby architecture-dependent directory name (i.e., ``i686-darwin8.10.1``).

ruby.archlib::
Path to the Ruby vendor archdir (i.e., [path]_${ruby.lib}/${ruby.arch}_).
:leveloffset: 0

:leveloffset: 2
[[_reference.portgroup.xcode]]
= PortGroup xcode

`PortGroup xcode` allows for efficient porting of Xcode-based opensource software.
A minimum Portfile for `PortGroup
  xcode` uses defaults for the configuration, build, and destroot phases.
It also defines some values for Xcode-based software.

Using `PortGroup xcode` is a way to make your port able to tolerate Xcode version updates because the PortGroup is tested against all supported macOS and Xcode versions.

[[_reference.portgroup.xcode.keywords]]
== xcode PortGroup Specific Keywords

Portfiles using `PortGroup xcode` allow for port authors to set the following keywords in addition to the general Portfile keywords.

xcode.project::
The path relative to [var]``${build.dir}`` and [var]``${destroot.dir}`` of the Xcode project.
If unset, Xcode Tools should be able to determine it automatically.
It usually succeeds if there is only a single project in the directory.

* Type: optional
* Default: none
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>xcode.project ${name}.xcode</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xcode.configuration::
Project configuration/buildstyle to use.

* Type: optional
* Default: [option]``Deployment``
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>xcode.configuration Main</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xcode.target::
If present, it overrides [var]``build.target`` and [var]``destroot.target``.

* Type: optional
* Default: none
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>xcode.target ${name}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xcode.build.settings::
Additional settings passed to the xcodebuild tool during the build phase.
These settings should be in the X=Y form.

* Type: optional
* Default: none
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>xcode.build.settings FRAMEWORK_SEARCH_PATHS=${frameworks_dir}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xcode.destroot.type::
Type of project that will be installed.
This tells the PortGroup xcode how to destroot the project.
Correct values are [option]``application`` and [option]``framework``.

* Type: optional
* Default: [option]``application``
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>xcode.destroot.type framework</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xcode.destroot.path::
Where to install the build product.

* Type: optional
* Default: [path]_${frameworks_dir}_ or [path]_${applications_dir}_ depending on ``xcode.destroot.type``.

xcode.destroot.settings::
Additional settings passed to the xcodebuild tool during the destroot phase.
These settings should be in the X=Y form.

* Type: optional
* Default: none
* Example:
+

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>xcode.destroot.settings SKIP_INSTALL=NO</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xcode.universal.settings::
Settings passed to the xcodebuild tool when the +universal variant is selected.
These settings should be in the X=Y form.

* Type: optional
* Default: `ARCHS="${universal_archs}" MACOSX_DEPLOYMENT_TARGET=${universal_target}`

xcode.universal.sdk::
SDK to use when the +universal variant is selected.
The argument may be an absolute path to an SDK, or the canonical name of an SDK.

* Type: optional
* Default: `${universal_sysroot}`

[[_reference.portgroup.xcode.sugar]]
== xcode PortGroup Sugar

Portfiles using the PortGroup xcode do not need to define the following variables:

categories::
Default: aqua

platforms::
Default: macosx

use_configure::
Default: no

[[_reference.portgroup.xcode.phase_keywords]]
== Portfile-Phase Keywords Affecting the PortGroup xcode

The following Portfile phase keywords affect the PortGroup xcode in a unique way.
In most cases, you will not need to set any of these keywords in the Portfile.
See
// &lt;citerefentry&gt;
//         &lt;refentrytitle&gt;portfile-phase&lt;/refentrytitle&gt;
//
//         &lt;manvolnum&gt;7&lt;/manvolnum&gt;
//       &lt;/citerefentry&gt;


build.cmd::
Default: [var]``${xcodebuildcmd}``.

build.target::
Default: ""
+
This variable will be ignored if [var]``xcode.target`` is set.

build.args::
Default: `build`

destroot.cmd::
Default: [var]``${xcodebuildcmd}``

destroot.target::
Default: ""
+
This variable will be ignored if [var]``xcode.target`` is set.
:leveloffset: 0</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-12 20:09:19 CEST
</div>
</div>
</body>
</html>